(this.webpackJsonprnaseq_viewer=this.webpackJsonprnaseq_viewer||[]).push([[0],{321:function(e,t,n){e.exports=n(581)},326:function(e,t,n){},581:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(57),o=n.n(c),l=(n(326),n(30)),i=n(13),s=n(14),u=n(602),m=n(11),p=n(15),d=n(26),g=n(27),h=n(28),f=n(582),b=n(599),E=n(78),v=n(278),y=n.n(v);function O(){var e=Object(i.a)(["\n  display: inline;\n  width: 50px;\n  margin-left: 5px;\n  padding-left: 5px;\n"]);return O=function(){return e},e}function w(){var e=Object(i.a)(["\n  margin: 10px 0px; \n"]);return w=function(){return e},e}function S(){var e=Object(i.a)(["\n  padding-top: 3px;\n  z-index: 100000;\n"]);return S=function(){return e},e}function j(){var e=Object(i.a)(["\n  margin-top: 5px !important;\n"]);return j=function(){return e},e}function k(){var e=Object(i.a)(["\n  opacity: 0.95;\n"]);return k=function(){return e},e}function x(){var e=Object(i.a)([" \n  display: inline-block;\n  margin: 12px 0px 0px 0px !important;\n"]);return x=function(){return e},e}var T=s.a.h3(x()),R=Object(s.a)(b.a)(k()),C=Object(s.a)(E.a)(j()),N=s.a.div(S()),A=Object(s.a)(N)(w()),_=s.a.input(O()),L=n(12),I=n(29),B=n(583),D=n(23),U=n(286);function P(){var e=Object(i.a)(["\n  padding: 0px !important;\n  div {\n    overflow-y: visible !important;\n  }\n"]);return P=function(){return e},e}function M(){var e=Object(i.a)(["\n  display: inline-block;\n  cursor: pointer;\n  border-radius: 2px;\n  box-shadow: 0 0 0 1px rgba(0,0,0,.1);\n  width: 10px;\n  height: 12px;\n"]);return M=function(){return e},e}function V(){var e=Object(i.a)(["\n  display: inline-block;\n  cursor: pointer;\n  border-radius: 2px;\n  padding: 1px 2px;\n  background: #fff;\n  box-shadow: 0 0 0 1px rgba(0,0,0,.1);\n"]);return V=function(){return e},e}var W=s.a.div(V()),G=s.a.div(M()),J=Object(s.a)(b.a).attrs({flowing:!0})(P()),H=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),a=t.call(this,e),Object(L.a)(Object(D.a)(a),"handleChange",(function(e){a.setState({color:e})})),Object(L.a)(Object(D.a)(a),"handleApply",(function(e){a.props.colorChangedHandler(e.hex)})),a.state={color:a.props.color},a}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(J,{on:"click",position:"left center",trigger:r.a.createElement(W,null,r.a.createElement(G,{style:{background:this.state.color}})),content:r.a.createElement(U.SwatchesPicker,{color:this.state.color,onChangeComplete:this.handleApply,onChange:function(t){return e.setState({color:t})}})})}}]),n}(r.a.Component),q=["GT/AG","CT/AC","GC/AG","CT/GC","AT/AC","GT/AT","non-canonical"],F=n(25),z=n(79),K=n(2),Y=n.n(K),X=n(6),Q=function(){var e=Object(X.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.auth2.getAuthInstance();case 2:if(!(t=e.sent)||t.isSignedIn.get()){e.next=6;break}return e.next=6,t.signIn();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(X.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.auth2.getAuthInstance();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return n=t&&t.currentUser&&t.currentUser.get(),a=n&&n.getBasicProfile(),e.abrupt("return",a&&a.getEmail());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(X.a)(Y.a.mark((function e(){var t,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.auth2.getAuthInstance();case 2:if(t=e.sent,n=t&&t.currentUser&&t.currentUser.get(),t){e.next=6;break}return e.abrupt("return",null);case 6:return t.isSignedIn.get()||n.reloadAuthResponse(),e.abrupt("return",n.getAuthResponse().access_token);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(e){return e.locus},te=function(e){return e.rightSideBarLocusList},ne=function(e){return e.leftSideBarLocusList},ae=function(e){return e.genome},re=function(e){return e.rowsInCategories},ce=function(e){return e.selectedRowNamesByCategoryName},oe=function(e){return e.selectedSamplesByCategoryNameAndRowName},le=function(e){return e.sjOptions},ie=function(e){return e.vcfOptions},se=function(e){return e.bamOptions},ue=function(e){return e.gcnvOptions},me=function(e){return e.user},pe=function(e){return e.isGoogleLoginRequired},de=function(e){return e.initialSettingsUrl},ge=Object(z.a)(re,(function(e){return Object(h.a)(e.reduce((function(e,t){return t.rows.forEach((function(t){t.data&&t.data.filter((function(e){return e.type})).map((function(e){return e.type})).forEach((function(t){e.add(t)}))})),e}),new Set))})),he=Object(z.a)(re,(function(e){return Object(h.a)(e.reduce((function(e,t){return t.rows.forEach((function(t){if(t.data){var n=t.data.filter((function(e){return e.type})).map((function(e){return e.type}));new Set(n).size>=2&&n.forEach((function(t){e.add(t)}))}})),e}),new Set))})),fe=Object(z.a)(ge,he,(function(e){return e.dataTypesToShow}),(function(e,t,n){return e.filter((function(e){return!t.includes(e)||n.includes(e)}))})),be=Object(z.a)(re,(function(e){return e.reduce((function(e,t){return Object(F.a)({},e,Object(L.a)({},t.categoryName,t.rows))}),{})})),Ee=Object(z.a)(ce,be,(function(e,t){return Object.entries(e).reduce((function(e,n){var a=Object(I.a)(n,2),r=a[0],c=a[1];return t[r]?Object(F.a)({},e,Object(L.a)({},r,t[r].filter((function(e){return c.includes(e.name)})))):e}),{})})),ve=Object(z.a)(Ee,oe,(function(e){return e.trackOrder}),fe,le,ie,se,ue,(function(e,t,n,a,r,c,o,l){var i=[];Object.entries(e).forEach((function(e){var s=Object(I.a)(e,2),u=s[0];return s[1].forEach((function(e,s){var m,p;(e.data||[]).forEach((function(d,g){if(a.includes(d.type)){var h=function(e){var t=n.indexOf(e);return-1!==t?t+=5e4:t=100*s+g,t};if("gcnv_bed"===d.type){var f="".concat(e.name," ").concat(d.label||""),b=h(f);console.log("Adding ".concat(f," (").concat(d.url,") track: order ").concat(b)),i.push({type:"gcnv",format:"gcnv",name:f,url:d.url,indexURL:d.indexURL||"".concat(d.url,".tbi"),height:l.trackHeight,min:l.trackMin,max:l.trackMax,autoscale:l.autoscale,highlightSamples:(((t[u]||{}).selectedSamples||{})[e.name]||[]).reduce((function(n,a){return n[a]=((((t[u]||{}).sampleSettings||{})[e.name]||{})[a]||{}).color||"blue",n}),{}),onlyHandleClicksForHighlightedSamples:l.onlyHandleClicksForHighlightedSamples,oauthToken:Z,order:b,rowName:e.name,categoryName:u})}else if("junctions"===d.type){if(m)return void console.error('More than one "junctions" track found in row',e);m={type:"spliceJunctions",format:"bed",url:d.url,indexURL:d.indexURL||"".concat(d.url,".tbi"),oauthToken:Z,name:e.name,order:h(e.name),height:r.trackHeight,minUniquelyMappedReads:r.minUniquelyMappedReads,minTotalReads:r.minTotalReads,maxFractionMultiMappedReads:r.maxFractionMultiMappedReads,minSplicedAlignmentOverhang:r.minSplicedAlignmentOverhang,minSamplesWithThisJunction:r.minSamplesWithThisJunction,maxSamplesWithThisJunction:r.maxSamplesWithThisJunction,minPercentSamplesWithThisJunction:r.minPercentSamplesWithThisJunction,maxPercentSamplesWithThisJunction:r.maxPercentSamplesWithThisJunction,minJunctionEndsVisible:r.minJunctionEndsVisible,thicknessBasedOn:r.thicknessBasedOn,bounceHeightBasedOn:r.bounceHeightBasedOn,colorBy:r.colorBy,colorByNumReadsThreshold:void 0!==r.colorByNumReadsThreshold?r.colorByNumReadsThreshold:5,hideStrand:r.showOnlyPlusStrand?"-":r.showOnlyMinusStrand?"+":void 0,labelWith:r.labelWith,labelWithInParen:r.labelWithInParen,hideAnnotatedJunctions:r.hideAnnotated,hideUnannotatedJunctions:r.hideUnannotated,hideMotifs:q.filter((function(e){return r["hideMotif".concat(e)]})),rowName:e.name,categoryName:u}}else if("coverage"===d.type){if(p)return void console.error('More than one "coverage" track found in row',e);p={type:"wig",format:"bigwig",url:d.url,oauthToken:Z,name:e.name,order:h(e.name),height:r.trackHeight,rowName:e.name,categoryName:u},d.url.includes("spliceai")&&(p.color=function(e){return e<.5?"rgb(180,180,180)":e<.8?"rgb(180,180,0)":"rgb(200,0,0)"})}else if(["bed","gff3","gtf","genePred","genePredExt","peaks","narrowPeak","broadPeak","bigBed","bedpe"].includes(d.type)){var E="".concat(e.name," ").concat(d.label||""),v=h(E);console.log("12312: Adding ".concat(E," (").concat(d.url,") ").concat(d.type," track: order ").concat(v)),console.warn("Adding bed track",{format:d.type,url:d.url,delimiter:"\t",nameField:"Label",indexURL:d.indexURL||"".concat(d.url,".tbi")}),i.push({format:d.type,url:d.url,delimiter:"\t",nameField:"Label",indexURL:d.indexURL||"".concat(d.url,".tbi")})}else if(("vcf"===d.type||d.url.includes(".vcf"))&&a.includes("vcf")){var y="".concat(e.name," ").concat(d.label||"vcf"),O=h(y);console.log("Adding ".concat(y," (").concat(d.url,") track: order ").concat(O)),i.push({type:"variant",format:"vcf",url:d.url,indexURL:d.indexURL||"".concat(d.url,".tbi"),indexed:!0,name:y,order:O,displayMode:c.displayMode,oauthToken:Z,rowName:e.name,categoryName:u})}else if("alignment"===d.type||d.url.includes(".bam")||d.url.includes(".cram")){var w="".concat(e.name," ").concat(d.label||"bam"),S=h(w);console.log("Adding ".concat(w," (").concat(d.url,") track: order ").concat(S)),i.push({type:"alignment",url:d.url,indexURL:d.indexURL||("".concat(d.url).endsWith("cram")?"".concat(d.url,".crai"):"".concat(d.url).endsWith("bam")?"".concat(d.url,".bai"):null),indexed:!0,name:w,order:S,height:o.trackHeight,colorBy:o.colorBy,viewAsPairs:o.viewAsPairs,showSoftClips:o.showSoftClips,oauthToken:Z,rowName:e.name,categoryName:u})}}else console.log("Skipping hidden track: ".concat(d.url))})),p&&m?(console.log("Adding ".concat(m.name," (").concat(m.url," & ").concat(p.url,") track: order ").concat(m.order)),i.push({type:"merged",name:m.name,order:m.order,height:r.trackHeight,tracks:[p,m],rowName:e.name,categoryName:u})):m?(console.log("Adding ".concat(m.name," (").concat(m.url,") track: order ").concat(m.order)),i.push(m)):p&&(console.log("Adding ".concat(p.name," (").concat(p.url,") track: order ").concat(p.order)),i.push(p))}))}));var s=n.indexOf("Gencode v32 Genes");return-1!==s?s+=5e4:s=1000001,i.push({name:"Gencode v32 Genes",format:"refgene",url:"gs://tgg-viewer/ref/GRCh38/gencode_v32/gencode_v32_knownGene.sorted.txt.gz",indexURL:"gs://tgg-viewer/ref/GRCh38/gencode_v32/gencode_v32_knownGene.sorted.txt.gz.tbi",indexed:!0,searchable:!0,height:350,visibilityWindow:-1,displayMode:"EXPANDED",order:s,color:"rgb(76,171,225)",oauthToken:Z}),i}));function ye(){var e=Object(i.a)(["\n  word-wrap: break-word;\n  word-break: break-all;  \n  white-space: normal;\n"]);return ye=function(){return e},e}function Oe(){var e=Object(i.a)(["\n  padding: 0px !important;\n  box-shadow: none !important;\n"]);return Oe=function(){return e},e}function we(){var e=Object(i.a)(["\n  margin: 10px 0px 8px 0px;\n  font-style: italic;\n"]);return we=function(){return e},e}var Se=s.a.span(we()),je=Object(s.a)(B.a).attrs({basic:!0,icon:!0})(Oe()),ke=s.a.span(ye()),xe=function(e){var t=e.categoryName,n=e.rowName,a=e.sample,c=e.sampleSettings,o=e.hideSample,l=e.updateSampleSettings,i=e.numSelectedSamplesInRow;return r.a.createElement("div",{style:{whiteSpace:"nowrap"}},r.a.createElement(je,{onClick:function(){return o(t,n,a,i)}},r.a.createElement(E.a,{name:"delete"})),r.a.createElement(ke,null,a),r.a.createElement("span",{style:{marginLeft:"8px"}},r.a.createElement(H,{key:c.color,color:c.color||"blue",colorChangedHandler:function(e){return l(t,n,a,{color:e})}})))},Te=Object(l.b)((function(e){return{selectedSamplesByCategoryNameAndRowName:oe(e)}}),(function(e){return{updateGcnvOptions:function(t){e({type:"UPDATE_GCNV_OPTIONS",updates:t})},hideRow:function(t,n){e({type:"REMOVE_SELECTED_ROW_NAMES",categoryName:t,selectedRowNames:[n]})},hideSample:function(t,n,a,r){r<=1&&e({type:"REMOVE_SELECTED_ROW_NAMES",categoryName:t,selectedRowNames:[n]}),e({type:"REMOVE_SELECTED_SAMPLES",categoryName:t,selectedSamplesByRowName:Object(L.a)({},n,[a])})},updateSampleSettings:function(t,n,a,r){e({type:"UPDATE_SAMPLE_SETTINGS",categoryName:t,sampleSettingsByRowNameAndSampleName:Object(L.a)({},n,Object(L.a)({},a,r))})}}}))((function(e){var t=e.selectedSamplesByCategoryNameAndRowName,n=e.hideRow,a=e.hideSample,c=e.updateSampleSettings,o=[];return Object.entries(t).forEach((function(e){var t=Object(I.a)(e,2),l=t[0],i=t[1];Object.entries(i.selectedSamples||{}).forEach((function(e){var t=Object(I.a)(e,2),s=t[0],u=t[1];o.push(r.a.createElement("div",{key:"".concat(l,"!!").concat(s)},r.a.createElement("div",{style:{whiteSpace:"nowrap",margin:"15px 0px 7px 0px"}},r.a.createElement(Se,null,"".concat(l,": ").concat(s))),u.map((function(e){return r.a.createElement(xe,{key:e,categoryName:l,rowName:s,sample:e,sampleSettings:((i.sampleSettings||{})[s]||{})[e]||{},hideRow:n,hideSample:a,updateSampleSettings:c,numSelectedSamplesInRow:u.length})}))))}))})),o.length>0?o:null})),Re=n(597),Ce=n(596),Ne=n(598),Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},_e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;if(!r)return a;switch(r.type){case e:return void 0===r.newValue?(console.error("Invalid ".concat(e," action: action.newValue is undefined: "),r),a):(n&&console.log("singleValueReducer: applying action: ",r,"State changing from ",a," to ",r.newValue),r.newValue);default:return a}};return a},Le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;if(!r)return a;switch(r.type){case e:if(void 0===r.updates)return console.error("Invalid ".concat(e," action: action.updates is undefined: "),r),a;var c=Object(F.a)({},a,{},r.updates);return n&&console.log("singleObjectReducer: applying action: ",r,"State changing from ",a," to ",c),c;default:return a}};return a},Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;if(!r)return a;switch(r.type){case"SET_".concat(e):case"ADD_".concat(e):case"REMOVE_".concat(e):if(!Array.isArray(r.values))return console.error("Invalid ".concat(r.type," action: action.values is undefined or not an array: "),r),a;var c;if(r.type==="SET_".concat(e))c=Object(h.a)(r.values);else if(r.type==="ADD_".concat(e))c=[].concat(Object(h.a)(a),Object(h.a)(r.values));else{var o=r.values;c=a.filter((function(e){return!o.includes(e)}))}return n&&console.log("createArrayReducer: applying action: ",r,"State changing from ",a," to ",c),c;default:return a}};return a},Be={modals:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,c=arguments.length>1?arguments[1]:void 0;if(!c)return r;switch(c.type){case e:if(void 0===c.updatesById)return console.error("Invalid ".concat(e," action. action.updatesById is undefined: "),c),r;var o=c.updatesById;if(t){if(!(t in o))return r;o=o[t]}var l=Object(F.a)({},r);return Object.entries(o).forEach((function(e){var t=Object(I.a)(e,2),n=t[0],a=t[1];null==a?delete l[n]:l[n]?l[n]=Object(F.a)({},l[n],{},a):l[n]=Object(F.a)({},a)})),a&&console.log("objectsByIdReducer: applying action: ",c,"State changing from: ",r," to ",l),l;default:return r}};return r}("UPDATE_MODAL_STATE")},De=function(e,t){return e.modals[t]&&e.modals[t].open};function Ue(){var e=Object(i.a)(["\n  margin-left: 10px !important;\n  width: 100px;\n"]);return Ue=function(){return e},e}function Pe(){var e=Object(i.a)(["\n  float: right;\n  padding: 0px 20px 20px 20px;\n"]);return Pe=function(){return e},e}function Me(){var e=Object(i.a)(["\n  &.ui.button.basic {\n    white-space: nowrap;\n    border: none;\n    padding: ",";\n    color: "," !important;\n    text-decoration: none;\n    font-weight: ",';\n    box-shadow: none !important;\n    user-select: auto;\n    \n    &:hover, &:focus, &:active {\n      color: #1e70bf !important;\n      background: transparent !important;\n    }\n    \n    &[class*="right labeled"].icon {\n      padding-left: 0 !important;\n      padding-right: 2.1em !important;\n      \n      > .icon {\n        background-color: initial;\n      }\n    }\n  }\n']);return Me=function(){return e},e}var Ve=Object(s.a)(B.a).attrs({basic:!0})(Me(),(function(e){return e.padding||0}),(function(e){return e.color||"#4183C4"}),(function(e){return e.fontWeight||"inherit"})),We=s.a.div(Pe()),Ge=Object(s.a)(B.a)(Ue()),Je=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(L.a)(Object(D.a)(e),"handleClose",(function(){var t=!0;e.props.handleClose&&(t=e.props.handleClose()),t&&e.props.close()})),Object(L.a)(Object(D.a)(e),"handleSave",(function(){var t=!0;e.props.handleSave&&(t=e.props.handleSave()),t&&e.props.close()})),e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props.trigger?r.a.cloneElement(this.props.trigger,{onClick:this.props.open}):null;return r.a.createElement(Ne.a,{open:this.props.isOpen,trigger:e,onClose:this.handleClose,size:this.props.size},r.a.createElement(Ne.a.Header,null,this.props.title,r.a.createElement(Ve,{floated:"right",onClick:this.handleClose,icon:r.a.createElement(E.a,{name:"remove",color:"grey"})})),r.a.createElement(Ne.a.Content,null,this.props.children),r.a.createElement(We,null,r.a.createElement(Ge,{tabIndex:0,onClick:this.handleClose,type:"button"},"Cancel"),r.a.createElement(Ge,{tabIndex:0,onClick:this.handleSave,type:"submit",color:"blue"},this.props.handleSave?"Save":"Ok")))}}]),n}(r.a.PureComponent);Je.defaultProps={size:"small"};var He=Object(l.b)((function(e,t){return{isOpen:De(e,t.modalName)}}),(function(e,t){return{open:function(n){var a;n.preventDefault(),e((a=t.modalName,function(e){return e({type:"UPDATE_MODAL_STATE",updatesById:Object(L.a)({},a,{open:!0})})}))},close:function(){var n,a;e((n=t.modalName,a=!0,function(e,t){t().modals[n].confirmOnClose&&!a?e({type:"UPDATE_MODAL_STATE",updatesById:Object(L.a)({},n,{confirming:!0})}):e({type:"UPDATE_MODAL_STATE",updatesById:Object(L.a)({},n,{open:!1,confirming:!1,confirmOnClose:null})})}))}}}))(Je);function qe(){var e=Object(i.a)(["\n  cursor: pointer;\n"]);return qe=function(){return e},e}var Fe=s.a.a(qe()),ze=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(e){var a;Object(m.a)(this,n),a=t.call(this,e),Object(L.a)(Object(D.a)(a),"render",(function(){var e=a.props,t=e.locusList,n=e.name,c=e.setLocusList,o="Locus List - ".concat(n);return r.a.createElement(He,{title:o,size:"large",modalName:o,trigger:r.a.createElement(Fe,null,(t||[]).length>0?r.a.createElement("div",null,r.a.createElement("br",null),"Edit Locus List"):r.a.createElement("div",null,"Add Locus List To Side Bar")),handleSave:function(){var e=a.textAreaValue.split(/[,\s]+/).filter(Boolean);return c(e),!0}},r.a.createElement(Re.a,null,r.a.createElement(Re.a.Field,{control:Ce.a,style:{minHeight:"300px"},defaultValue:a.textAreaValue,onKeyUp:function(e){a.textAreaValue=e.target.value},placeholder:"Enter genomic positions, intervals, and/or gene names separated by commas, spaces, or new lines.  These can be in any format recognized by the IGV search bar.  For example: DMD, ENST00000589830, chr1:55516888, 2:152341851-152591002"})),r.a.createElement("br",null),r.a.createElement("b",null,r.a.createElement("i",null,"NOTE:"))," This locus list will be saved across page refreshes in this browser, \xa0 but will not be recorded in the page url like other settings.\xa0 Sharing or bookmarking this page won't include the contents of this list.")}));var c=a.props.locusList;return a.textAreaValue=(c||[]).join("\n"),a}return n}(r.a.PureComponent),Ke=function(e){var t=e.name,n=e.locusList,a=e.setLocus,c=e.setLocusList;return r.a.createElement("div",null,n.map((function(e,t){return r.a.createElement("div",{key:"".concat(e," ").concat(t)},t+1,". \xa0 ",r.a.createElement(Fe,{onClick:function(){a(e)}},e))})),r.a.createElement(ze,{name:t,locusList:n,setLocusList:c}))},Ye=n(600);function Xe(){var e=Object(i.a)(["\n"]);return Xe=function(){return e},e}function Qe(){var e=Object(i.a)(["\n  font-family: monospace;\n  background-color: #F7F7F7;\n"]);return Qe=function(){return e},e}function $e(){var e=Object(i.a)(["\n  font-family: monospace;\n  margin: 20px 30px;\n  padding: 10px;\n  background-color: #F7F7F7;\n  white-space: nowrap;\n"]);return $e=function(){return e},e}function Ze(){var e=Object(i.a)(["\n  cursor: pointer;\n  padding: 10px 10px 10px 0px;\n  display: inline-block;\n"]);return Ze=function(){return e},e}var et=s.a.a(Ze()),tt=s.a.div($e()),nt=s.a.span(Qe()),at=Object(s.a)(b.a).attrs({position:"right center"})(Xe()),rt={".bigWig":"coverage",".bw":"coverage",".junctions.bed":"junctions",".spliceJunctions.bed":"junctions",".junctions.bed.gz":"junctions",".spliceJunctions.bed.gz":"junctions",".bam":"bam",".cram":"bam",".vcf":"vcf",".vcf.gz":"vcf",".wig":"wig",".bedGraph":"wig",".gcnv.bed":"gcnv_bed",".gcnv.bed.gz":"gcnv_bed",".bed":"bed",".bed.gz":"bed",".gff3":"gff",".gtf":"gtf",".gtf.gz":"gtf",".genePred":"genePred",".bigBed":"bigBed"},ct=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),a=t.call(this,e),Object(L.a)(Object(D.a)(a),"getInitialState",(function(){return{textAreaValue:"",warningMessage:null,errorMessage:null}})),Object(L.a)(Object(D.a)(a),"parseTextAreaValueToRows",(function(e){if(!e.trim())return{rows:[],errorMessage:null};var t=null,n=[],a=e.split(/[,\s]+/).filter(Boolean).reduce((function(e,t){var a=t.split("/"),r=a[a.length-1],c=Object.keys(rt).filter((function(e){return r.endsWith(e)}));if(0===c.length)n.push(t);else{var o=c[0],l=r.replace(o,"");e[l]||(e[l]={data:[]}),e[l].name=l,e[l].data.push({type:rt[o],url:t})}return e}),{});return n.length>0&&(t="These paths have file suffixes that are not recognized: ".concat(n.join(", "))),{newRows:Object.values(a),errorMessage:t}})),Object(L.a)(Object(D.a)(a),"handleModalSave",(function(){var e=a.props.addRows,t=a.state.textAreaValue,n=a.parseTextAreaValueToRows(t),r=n.newRows,c=n.errorMessage;return c?(a.setState({errorMessage:c}),!1):(e(r),a.setState(a.getInitialState()),!0)})),Object(L.a)(Object(D.a)(a),"handleModalClose",(function(){return a.setState(a.getInitialState()),!0})),Object(L.a)(Object(D.a)(a),"render",(function(){var e=a.props,t=e.title,n=e.trigger,c=a.state,o=c.textAreaValue,l=c.warningMessage,i=c.errorMessage,s="".concat(t," Rows");return r.a.createElement(He,{title:s,size:"large",modalName:s,trigger:n,handleSave:a.handleModalSave,handleClose:a.handleModalClose},r.a.createElement("div",null,"Enter google bucket path(s) for data files: \xa0",r.a.createElement(at,{trigger:r.a.createElement(E.a,{style:{margin:"10px 0px"},name:"question circle outline"}),content:r.a.createElement("div",null,r.a.createElement("b",null,"Format"),":",r.a.createElement("br",null),r.a.createElement("br",null),"Enter a list of data file paths separated by commas, spaces or new lines. ",r.a.createElement("br",null),r.a.createElement("br",null),"Example:",r.a.createElement("br",null),r.a.createElement(tt,null,"gs://your-bucket/dir/sample-name1.bigWig ",r.a.createElement("br",null),"gs://your-bucket/dir/sample2.bigWig ",r.a.createElement("br",null),"gs://your-bucket/dir/sample-name1.junctions.bed.gz ",r.a.createElement("br",null),"gs://your-bucket/dir/sample-name1.bam ",r.a.createElement("br",null),"gs://your-bucket/dir/sample2.junctions.bed.gz ",r.a.createElement("br",null)),"Paths that have the same prefix (eg. ",r.a.createElement(nt,null,"gs://your-bucket/dir/sample-name1")," above) will be interpreted as different data types from the same sample.",r.a.createElement("br",null),"The order of paths doesn't matter.",r.a.createElement("br",null),r.a.createElement("br",null),"IGV.js track types will be inferred from file extensions as follows:",r.a.createElement("br",null),r.a.createElement("div",{style:{margin:"10px 30px"}},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null," ",r.a.createElement("b",null," File Extension ")," "),r.a.createElement("td",null," ",r.a.createElement("b",null,"IGV.js Track Type")," ")),Object.entries(rt).filter((function(e){return!Object(I.a)(e,1)[0].endsWith(".bed")})).map((function(e,t){var n=Object(I.a)(e,2),a=n[0],c=n[1];return r.a.createElement("tr",{key:"".concat(a," ").concat(c," ").concat(t)},r.a.createElement("td",null,a),r.a.createElement("td",null,c))}))))))}),r.a.createElement("br",null)),r.a.createElement(Re.a,null,r.a.createElement(Ce.a,{style:{minHeight:"300px"},value:o,onChange:function(e){a.setState({textAreaValue:e.target.value})},placeholder:"Enter file path(s)"})),r.a.createElement("br",null),r.a.createElement("b",null,r.a.createElement("i",null,"NOTE:"))," These paths will be saved across page refreshes in this browser, but will not be recorded in the page url like other settings. Sharing or bookmarking this page won't include these paths.",l&&r.a.createElement(Ye.a,{color:"yellow"},l),i&&r.a.createElement(Ye.a,{color:"red"},i))})),a.state=a.getInitialState(),a}return n}(r.a.PureComponent),ot=Object(l.b)(null,(function(e){return{addRows:function(t,n){e({type:"ADD_ROWS",categoryName:t,rows:n})}}}))((function(e){var t=e.category,n=e.addRows;return r.a.createElement("div",null,r.a.createElement(ct,{title:"Add ".concat(t.categoryName),categoryName:t.categoryName,addRows:function(e){return n(t.categoryName,e)},trigger:r.a.createElement(et,null,"Add ",0===t.rows.length?t.categoryName:null," Rows")}))})),lt=n(60),it=n.n(lt),st=n(601);function ut(){var e=Object(i.a)(["\n  margin: 13px 0px; \n  .prompt {\n    border-radius: 2px !important;\n    width: 155px;\n  }\n  \n  input {\n      max-width: none !important;\n      padding: 5px !important;\n  }\n  \n  .input {\n    -webkit-box-shadow: 0px 0px 1px 0px rgba(0,0,0) !important;\n    -moz-box-shadow: 0px 0px 1px 0px rgba(0,0,0) !important;\n    box-shadow: 0px 0px 1px 0px rgba(0,0,0) !important;\n  }\n  \n  .results {\n      min-width: max-content;\n  }\n\n  .red-text {\n    .title {\n      color: #CC0000 !important;\n      font-weight: 500 !important;\n     }\n  }\n"]);return ut=function(){return e},e}function mt(){var e=Object(i.a)(["\n  margin: 5px 0px;\n"]);return mt=function(){return e},e}var pt=s.a.div(mt()),dt=Object(s.a)(st.a)(ut()),gt={isLoading:!1,results:[],value:""},ht=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(m.a)(this,n),e=t.call(this),Object(L.a)(Object(D.a)(e),"handleResultSelect",(function(t,n){var a=n.result;e.setState({value:""});var r=a.id.split("!!"),c=r[0],o=r[1],l=r[2],i=r[3];i?(("ADD"===c||e.getSelectedSamplesForRow(o,l).length<=1)&&e.props.updateSelectedRowNames(c,o,[l]),e.props.updateSelectedSamples(c,o,Object(L.a)({},l,[i]))):e.props.updateSelectedRowNames(c,o,[l])})),Object(L.a)(Object(D.a)(e),"getSelectedRowNames",(function(t){return e.props.selectedRowNamesByCategoryName[t]||[]})),Object(L.a)(Object(D.a)(e),"isRowSelected",(function(t,n){return e.getSelectedRowNames(t).includes(n)})),Object(L.a)(Object(D.a)(e),"getSelectedSamplesByRowName",(function(t){return(e.props.selectedSamplesByCategoryNameAndRowName[t]||{}).selectedSamples||{}})),Object(L.a)(Object(D.a)(e),"getSelectedSamplesForRow",(function(t,n){return e.getSelectedSamplesByRowName(t)[n]||[]})),Object(L.a)(Object(D.a)(e),"isSampleSelected",(function(t,n,a){return e.getSelectedSamplesForRow(t,n).includes(a)})),Object(L.a)(Object(D.a)(e),"addRowsToHide",(function(t,n){return Object.keys(e.props.selectedRowNamesByCategoryName).forEach((function(a){n>=12||e.props.selectedRowNamesByCategoryName[a].forEach((function(e){if(!(n>=12)){t[a]=t[a]||[];var r={action:"REMOVE",categoryName:a,rowName:e};it.a.some(t[a],r)||(t[a].push(r),n+=1)}}))})),n})),Object(L.a)(Object(D.a)(e),"addSamplesToHide",(function(t,n){return Object.keys(e.props.selectedSamplesByCategoryNameAndRowName).forEach((function(a){n>=12||Object.keys(e.getSelectedSamplesByRowName(a)).forEach((function(r){n>=12||!e.isRowSelected(a,r)||e.getSelectedSamplesForRow(a,r).forEach((function(e){if(!(n>=12)){t[a]=t[a]||[];var c={action:"REMOVE",categoryName:a,rowName:r,sample:e};it.a.some(t[a],c)||(t[a].push(c),n+=1)}}))}))})),n})),Object(L.a)(Object(D.a)(e),"addMatchingSamplesFromRow",(function(t,n,a,r,c){if(!n.data)return c;var o=n.data.filter((function(e){return e.samples&&e.samples.length>0}));return o.length>1&&console.warn("Found row with multiple data items each of which has a samples array. This may behave unexpectedly if there are duplicate samples"),o.forEach((function(o){(o.samples||[]).forEach((function(o){if(!(c>=12)&&a.test(o)){r[t]=r[t]||[];var l={action:e.isRowSelected(t,n.name)&&e.isSampleSelected(t,n.name,o)?"REMOVE":"ADD",categoryName:t,rowName:n.name,sample:o};it.a.some(r[t],l)||(r[t].push(l),c+=1)}}))})),c})),Object(L.a)(Object(D.a)(e),"addMatchingRowsAndSamples",(function(t,n,a){var r={};return e.props.rowsInCategories.forEach((function(c){if(!(a>=12)){var o=c.categoryName;c.rows.forEach((function(c){if(!(a>=12)){if(t.test(c.name)){r[o]=r[o]||[],r[o].push(c),n[o]=n[o]||[];var l={action:e.isRowSelected(o,c.name)?"REMOVE":"ADD",categoryName:o,rowName:c.name};it.a.some(n[o],l)||(n[o].push(l),a+=1)}a=e.addMatchingSamplesFromRow(o,c,t,n,a)}}))}})),Object.entries(r).forEach((function(t){var r=Object(I.a)(t,2),c=r[0],o=r[1];a>=12||(n[c]=n[c]||[],o.forEach((function(t){a>=12||(a=e.addMatchingSamplesFromRow(c,t,/.*/,n,a))})))})),a})),Object(L.a)(Object(D.a)(e),"handleSearchChange",(function(t,n){var a=n.value;e.setState({isLoading:!0,value:a}),setTimeout((function(){if(e.state.value.length<1)return e.setState(gt);var t=new RegExp(it.a.escapeRegExp(e.state.value),"i"),n={},a=0;t.test("Hide")&&(a=e.addRowsToHide(n,a)),(t.test("Hide")||t.test("Hide sample"))&&(a=e.addSamplesToHide(n,a)),e.addMatchingRowsAndSamples(t,n,a);var r=e.props.rowsInCategories.length>1,c=r?{}:[];return Object.keys(n).forEach((function(e){r&&(c[e]={name:e,results:[]});var t=r?c[e].results:c;n[e].forEach((function(n){if(n.sample){var a="ADD"===n.action?"Show sample":"Hide sample";t.push({id:"".concat(n.action,"!!").concat(e,"!!").concat(n.rowName,"!!").concat(n.sample),title:"".concat(a," ").concat(n.rowName," > ").concat(n.sample),className:"ADD"!==n.action?"red-text":null})}else{var r="ADD"===n.action?"Show":"Hide";t.push({id:"".concat(n.action,"!!").concat(e,"!!").concat(n.rowName),title:"".concat(r," ").concat(n.rowName),className:"ADD"!==n.action?"red-text":null})}}))})),e.setState({isLoading:!1,results:c})}),1)})),Object(L.a)(Object(D.a)(e),"render",(function(){var t=e.state,n=t.isLoading,a=t.value,c=t.results;return r.a.createElement(pt,null,r.a.createElement(T,null,"Select Data"),r.a.createElement(dt,{category:e.props.rowsInCategories.length>1,loading:n,onResultSelect:e.handleResultSelect,onFocus:e.handleSearchChange,onSearchChange:e.handleSearchChange,placeholder:"Select data",results:c,value:a}))})),e.state=gt,e}return n}(r.a.Component),ft=Object(l.b)((function(e){return{rowsInCategories:re(e),selectedRowNamesByCategoryName:ce(e),selectedSamplesByCategoryNameAndRowName:oe(e)}}),(function(e){return{updateSelectedRowNames:function(t,n,a){e({type:"".concat(t,"_SELECTED_ROW_NAMES"),categoryName:n,selectedRowNames:a})},updateSelectedSamples:function(t,n,a){e({type:"".concat(t,"_SELECTED_SAMPLES"),categoryName:n,selectedSamplesByRowName:a})}}}))(ht);function bt(){var e=Object(i.a)(["\n  white-space: nowrap;\n"]);return bt=function(){return e},e}function Et(){var e=Object(i.a)(["\n  padding-left: 5px;\n  white-space: nowrap;\n"]);return Et=function(){return e},e}function vt(){var e=Object(i.a)(["\n  cursor: pointer;\n  padding: 10px 10px 10px 0px;\n  display: inline-block;\n"]);return vt=function(){return e},e}function yt(){var e=Object(i.a)(["\n  color: ",";\n  background-color: ",";\n  border: 3px solid ",";\n  display: inline-block;\n  width: 6px;\n  border-radius: 1px;\n  height: 10px;\n  cursor: pointer;\n"]);return yt=function(){return e},e}function Ot(){var e=Object(i.a)(["\n  display: inline-block;\n  margin: 0px 0px 0px 15px;\n  color: #999;\n  white-space: nowrap;\n"]);return Ot=function(){return e},e}var wt=s.a.div(Ot()),St=s.a.div.attrs({name:"stop"})(yt(),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color})),jt={junctions:"#B0B0EC",coverage:"#B5D29A",alignment:"#5DB6E9",vcf:"#E6A01B",gcnv_bed:"#AA3333",default:"#000000"},kt={coverage:"Coverage",junctions:"Splice Junctions",vcf:"Variants (VCF)",gcnv_bed:"gCNV",alignment:"Reads (BAM)",bed:"Annotations (BED)",gff3:"Annotations (GFF3)",gtf:"Annotations (GTF)",genePred:"Annotations (genePred)",bigBed:"Annotations (bigBed)"},xt=s.a.a(vt()),Tt=s.a.span(Et()),Rt=s.a.div(bt()),Ct=function(e){var t=e.dataTypesUsersCanToggle,n=e.enabledDataTypes,a=e.updateDataTypesToShow;if(t.length<2)return null;var c=Object(h.a)(t).map((function(e,t){var c=kt[e]||e.charAt(0).toUpperCase()+e.slice(1);return r.a.createElement(N,{key:"".concat(e," ").concat(t)},r.a.createElement(f.a,{label:"".concat(c.toLocaleString()),checked:n.includes(e),onChange:function(t,n){return a(n.checked?"ADD":"REMOVE",[e])}}),r.a.createElement(Tt,null,r.a.createElement(b.a,{content:"This stripe marks rows that have ".concat(c.toLowerCase()," data. Use the checkbox on the left to show or hide ").concat(c.toLowerCase()," tracks for all rows selected below."),position:"right center",trigger:r.a.createElement(St,{color:jt[e]||jt.default})})))}));return r.a.createElement("div",null,r.a.createElement(T,null,"Show Track Types"),c)},Nt=function(e){var t=e.row;return r.a.createElement(b.a,{flowing:!0,content:r.a.createElement("table",null,r.a.createElement("tbody",null,(t.data||[]).map((function(e,t){return r.a.createElement("tr",{key:"".concat(e.url," ").concat(e.type," ").concat(t)},r.a.createElement("td",{style:{paddingRight:"10px"}},r.a.createElement("b",null,e.type&&(kt[e.type]||e.type.toUpperCase()),":")),r.a.createElement("td",null,r.a.createElement(Rt,null,e.url)),r.a.createElement("td",{style:{color:"gray",whiteSpace:"nowrap",paddingLeft:"15px"}},e.samples?"(".concat(e.samples.length," samples)"):null))})),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},r.a.createElement("div",{style:{fontSize:"small",color:"grey",marginTop:"10px"}},"(click to copy paths)"))))),position:"right center",trigger:r.a.createElement(Tt,{onClick:function(){var e=(t.data||[]).map((function(e){return e.url})).join("\n");navigator.clipboard.writeText(e)}},(t.data||[]).map((function(e,t){return r.a.createElement(St,{key:"".concat(e.url," ").concat(e.type," ").concat(t),color:jt[e.type]||jt.default})}))),style:{marginLeft:"2px"}})},At=function(e){var t=e.category,n=e.updateSelectedRowNames;return r.a.createElement("div",null,r.a.createElement(T,null,t.categoryName),t.rows.length>=12&&r.a.createElement(wt,null,"(N=".concat(t.rows.length,") ")),t.rows.length>0&&r.a.createElement("div",null,r.a.createElement(xt,{onClick:function(e){e.preventDefault(),n("SET",t.categoryName,[])}},"Uncheck All")))},_t=function(e){var t=e.rowsInCategories,n=e.selectedRowNamesByCategoryName,a=e.updateSelectedRowNames;return t.map((function(e,c){return r.a.createElement("div",{key:"".concat(e.categoryName," ").concat(c)},r.a.createElement(At,{category:e,updateSelectedRowNames:a}),e.rows.map((function(t,c){var o=n[e.categoryName]||[];return r.a.createElement(Lt,{key:"".concat(t.name," ").concat(c),row:t,categoryName:e.categoryName,selectedRowNames:o,updateSelectedRowNames:a})})),c===t.length-1?r.a.createElement(ot,{category:e}):null)}))},Lt=function(e){var t=e.row,n=e.categoryName,a=e.selectedRowNames,c=e.updateSelectedRowNames;return r.a.createElement(Rt,null,r.a.createElement(f.a,{label:t.name,checked:a.includes(t.name),"data-row":t.name,onChange:function(e,t){return c(t.checked?"ADD":"REMOVE",n,[t["data-row"]])}}),r.a.createElement(It,{row:t}),r.a.createElement(Nt,{row:t}))},It=function(e){var t=e.row;return t.description?r.a.createElement(R,{flowing:!0,content:t.description&&r.a.createElement("div",{dangerouslySetInnerHTML:{__html:y.a.sanitize(t.description)}}),position:"right center",trigger:r.a.createElement(E.a,{style:{marginLeft:"10px"},name:"question circle outline"})}):null},Bt=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.locusList,n=e.rowsInCategories,a=e.dataTypesUsersCanToggle,c=e.enabledDataTypes,o=e.selectedRowNamesByCategoryName,l=e.setLocus,i=e.setLocusList,s=e.updateDataTypesToShow,u=e.updateSelectedRowNames;return r.a.createElement("div",null,r.a.createElement(Ke,{name:"Left Side Bar",locusList:t,setLocus:l,setLocusList:i}),r.a.createElement(Ct,{dataTypesUsersCanToggle:a,enabledDataTypes:c,updateDataTypesToShow:s}),r.a.createElement(ft,null),r.a.createElement(A,null,r.a.createElement(Te,null)),r.a.createElement(_t,{rowsInCategories:n,selectedRowNamesByCategoryName:o,updateSelectedRowNames:u}))}}]),n}(r.a.PureComponent),Dt=Object(l.b)((function(e){return{locusList:ne(e),rowsInCategories:re(e),dataTypesUsersCanToggle:he(e),enabledDataTypes:fe(e),selectedRowNamesByCategoryName:ce(e)}}),(function(e){return{setLocus:function(t){e({type:"UPDATE_LOCUS",newValue:t})},setLocusList:function(t){e({type:"SET_LEFT_SIDE_BAR_LOCUS_LIST",values:t})},updateDataTypesToShow:function(t,n){e({type:"".concat(t,"_DATA_TYPES_TO_SHOW"),values:n})},updateSelectedRowNames:function(t,n,a){e({type:"".concat(t,"_SELECTED_ROW_NAMES"),categoryName:n,selectedRowNames:a})},updateSjOptions:function(t){e({type:"UPDATE_SJ_OPTIONS",updates:t})},updateVcfOptions:function(t){e({type:"UPDATE_VCF_OPTIONS",updates:t})},updateBamOptions:function(t){e({type:"UPDATE_BAM_OPTIONS",updates:t})}}}))(Bt),Ut={},Pt=Object(l.b)((function(e){return{bamOptions:se(e)}}),(function(e){return{updateBamOptions:function(t){e({type:"UPDATE_BAM_OPTIONS",updates:t})}}}))((function(e){var t=e.bamOptions,n=e.updateBamOptions;return r.a.createElement("div",null,r.a.createElement(T,null,"BAM Track ",r.a.createElement("br",null),"Options"),r.a.createElement("br",null),r.a.createElement(N,null,r.a.createElement(f.a,{label:"View as pairs",checked:t.viewAsPairs,onChange:function(e,t){return n({viewAsPairs:t.checked})}})),r.a.createElement(N,null,r.a.createElement(f.a,{label:"Show soft-clips",checked:t.showSoftClips,onChange:function(e,t){return n({showSoftClips:t.checked})}})),r.a.createElement(N,null,"Color by:",r.a.createElement("select",{value:t.colorBy,onChange:function(e){return n({colorBy:e.target.value})}},r.a.createElement("option",{value:"strand"},"Strand"),r.a.createElement("option",{value:"firstOfPairStrand"},"First-of-pair strand"),r.a.createElement("option",{value:"pairOrientation"},"Pair orientation"),r.a.createElement("option",{value:"fragmentLength"},"Insert size (TLEN)"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement(A,null,"Track height: ",r.a.createElement(_,{key:"track-height-".concat(t.trackHeight),type:"text",defaultValue:t.trackHeight,onKeyUp:function(e){return function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;13===e.keyCode?n(Object(F.a)({},t,{},Ut)):Ut[a]=r}(e,"trackHeight",parseInt(e.target.value,10))}})," px"),r.a.createElement(A,null,r.a.createElement(B.a,{compact:!0,size:"small",onClick:function(){n(Object(F.a)({},t,{},Ut))}},"Apply")))})),Mt=Object(l.b)((function(e){return{vcfOptions:ie(e)}}),(function(e){return{updateVcfOptions:function(t){e({type:"UPDATE_VCF_OPTIONS",updates:t})}}}))((function(e){var t=e.vcfOptions,n=e.updateVcfOptions;return r.a.createElement("div",null,r.a.createElement(T,null,"VCF Track ",r.a.createElement("br",null),"Options"),r.a.createElement("br",null),r.a.createElement(N,null,"Display mode: \xa0",r.a.createElement("select",{value:t.displayMode,onChange:function(e){return n({displayMode:e.target.value})}},r.a.createElement("option",{value:"COLLAPSED"},"Collapse"),r.a.createElement("option",{value:"SQUISHED"},"Squish"),r.a.createElement("option",{value:"EXPANDED"},"Expand"))))})),Vt=n(594);function Wt(){var e=Object(i.a)(["\n  label {\n    margin-left: 10px;\n    margin-bottom: 10px;\n    padding-left: 1.4em !important;\n  }\n"]);return Wt=function(){return e},e}function Gt(){var e=Object(i.a)(["\n  margin-top: 5px;\n"]);return Gt=function(){return e},e}var Jt=s.a.div(Gt()),Ht=Object(s.a)(Vt.a)(Wt()),qt=function(e){var t=e.sjOptions,n=e.handleTextInput;return"strand"===t.colorBy?r.a.createElement("div",null,r.a.createElement(C,{name:"stop",style:{color:"#b0b0ec"}})," plus",r.a.createElement(C,{name:"stop",style:{color:"#ecb0b0",marginLeft:"10px"}})," minus"):"motif"===t.colorBy?r.a.createElement("div",null,r.a.createElement(C,{name:"stop",style:{color:"rgb(27,158,119)"}})," GT/AG ",r.a.createElement("br",null),r.a.createElement(C,{name:"stop",style:{color:"rgb(217,95,2)"}})," CT/AC ",r.a.createElement("br",null),r.a.createElement(C,{name:"stop",style:{color:"rgb(117,112,179)"}})," GC/AG ",r.a.createElement("br",null),r.a.createElement(C,{name:"stop",style:{color:"rgb(231,41,138)"}})," CT/GC ",r.a.createElement("br",null),r.a.createElement(C,{name:"stop",style:{color:"rgb(102,166,30)"}})," AT/AC ",r.a.createElement("br",null),r.a.createElement(C,{name:"stop",style:{color:"rgb(230,171,2)"}})," GT/AT ",r.a.createElement("br",null),r.a.createElement(C,{name:"stop",style:{color:"rgb(166,118,29)"}})," non-canonical ",r.a.createElement("br",null)):"numUniqueReads"===t.colorBy||"numReads"===t.colorBy?r.a.createElement("div",null,"# reads",r.a.createElement(C,{name:"stop",style:{color:"#AAAAAA",marginLeft:"10px"}}),"\xa0\u2264 \xa0",r.a.createElement(_,{type:"text",key:"num-reads-".concat(t.colorByNumReadsThreshold),defaultValue:void 0!==t.colorByNumReadsThreshold?t.colorByNumReadsThreshold:5,onKeyUp:function(e){return n(e,"colorByNumReadsThreshold")},style:{width:"35px"}}),"\xa0 < \xa0",r.a.createElement(C,{name:"stop",style:{color:"blue"}})):"isAnnotatedJunction"===t.colorBy?r.a.createElement("div",null,r.a.createElement(C,{name:"stop",style:{color:"#b0b0ec"}})," known junction ",r.a.createElement("br",null),r.a.createElement(C,{name:"stop",style:{color:"orange"}})," novel junction"):r.a.createElement("div",null)},Ft={},zt=Object(l.b)((function(e){return{sjOptions:le(e)}}),(function(e){return{updateSjOptions:function(t){e({type:"UPDATE_SJ_OPTIONS",updates:t})}}}))((function(e){var t=e.sjOptions,n=e.updateSjOptions,a=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;13===e.keyCode?n(Object(F.a)({},t,{},Ft)):Ft[a]=r};return r.a.createElement("div",null,r.a.createElement(T,null,"Junctions Track Filters"),r.a.createElement("br",null),r.a.createElement(Jt,null,r.a.createElement(N,null,"Show: ",r.a.createElement("br",null),r.a.createElement(Ht,{label:"only local junctions",name:"minJunctionEndsVisibleButton",checked:2===t.minJunctionEndsVisible,onChange:function(e,t){return t.checked&&n({minJunctionEndsVisible:2})}}),r.a.createElement(R,{content:"Only show splice junctions that start and end within the current view.",position:"left center",trigger:r.a.createElement(E.a,{style:{marginLeft:"8px"},name:"question circle outline"})}),r.a.createElement("br",null),r.a.createElement(Ht,{label:"semi-local junctions",name:"minJunctionEndsVisibleButton",checked:1===t.minJunctionEndsVisible,onChange:function(e,t){return t.checked&&n({minJunctionEndsVisible:1})}}),r.a.createElement(R,{content:"Hide splice junctions that span the current view (start to the left of the current view and end to the right of it).",position:"left center",trigger:r.a.createElement(E.a,{style:{marginLeft:"8px"},name:"question circle outline"})}),r.a.createElement("br",null),r.a.createElement(Ht,{label:"all junctions",name:"minJunctionEndsVisibleButton",checked:0===t.minJunctionEndsVisible,onChange:function(e,t){return t.checked&&n({minJunctionEndsVisible:0})}}),r.a.createElement(R,{content:"Show all splice junctions",position:"left center",trigger:r.a.createElement(E.a,{style:{marginLeft:"8px"},name:"question circle outline"})}))),r.a.createElement(Jt,null,r.a.createElement(N,null,"Show Strands:",r.a.createElement(Ht,{label:"both",name:"strandButton",checked:!t.showOnlyPlusStrand&&!t.showOnlyMinusStrand,onChange:function(e,t){return t.checked&&n({showOnlyPlusStrand:!1,showOnlyMinusStrand:!1})}}),r.a.createElement(Ht,{label:"plus",name:"strandButton",checked:t.showOnlyPlusStrand,onChange:function(e,t){return t.checked&&n({showOnlyPlusStrand:!0,showOnlyMinusStrand:!1})}}),r.a.createElement(Ht,{label:"minus",name:"strandButton",checked:t.showOnlyMinusStrand,onChange:function(e,t){return t.checked&&n({showOnlyPlusStrand:!1,showOnlyMinusStrand:!0})}}))),r.a.createElement(Jt,null,r.a.createElement(N,null,r.a.createElement(f.a,{label:"Show known junctions",checked:!t.hideAnnotated,onChange:function(e,t){return n({hideAnnotated:!t.checked})}})),r.a.createElement(N,null,r.a.createElement(f.a,{label:"Show novel junctions",checked:!t.hideUnannotated,onChange:function(e,t){return n({hideUnannotated:!t.checked})}}))),r.a.createElement(Jt,null,r.a.createElement("div",null,r.a.createElement(N,null,"Uniquely-mapped reads:"),"at least ",r.a.createElement(_,{key:"uniquely-mapped-reads-".concat(t.minUniquelyMappedReads),type:"text",defaultValue:t.minUniquelyMappedReads,onKeyUp:function(e){return a(e,"minUniquelyMappedReads",parseInt(e.target.value,10))}})),r.a.createElement("div",null,r.a.createElement(N,null,"Total reads:"),"at least ",r.a.createElement(_,{key:"total-reads-".concat(t.minTotalReads),type:"text",defaultValue:t.minTotalReads,onKeyUp:function(e){return a(e,"minTotalReads",parseInt(e.target.value,10))}})),r.a.createElement("div",null,r.a.createElement(N,null,"Fraction multi-mapped:",r.a.createElement(R,{content:"Allows filtering of junctions where most reads that span the junction are multi-mapped reads. For example, setting this to 0.79 will hide junctions where 8 out of 10 (or more) reads that span the junction are not uniquely mapped reads.",position:"left center",trigger:r.a.createElement(E.a,{style:{marginLeft:"8px"},name:"question circle outline"})})),"at most ",r.a.createElement(_,{key:"fraction-multi-mapped-".concat(t.maxFractionMultiMappedReads),type:"text",defaultValue:t.maxFractionMultiMappedReads,onKeyUp:function(e){return a(e,"maxFractionMultiMappedReads",parseInt(e.target.value,10))}}))),r.a.createElement(Jt,null,r.a.createElement("div",null,r.a.createElement(N,null,"Splice overhang base-pairs:"),"at least ",r.a.createElement(_,{key:"spliced-alignment-overhang-".concat(t.minSplicedAlignmentOverhang),type:"text",defaultValue:t.minSplicedAlignmentOverhang,onKeyUp:function(e){return a(e,"minSplicedAlignmentOverhang",parseInt(e.target.value,10))}})),r.a.createElement("div",null,r.a.createElement(N,null,"# samples with junction:",r.a.createElement(R,{content:"Filter junctions based on how many samples in the batch have this junction. A sample is counted as having the junction as long as the junction is supported by at least one read.",position:"left center",trigger:r.a.createElement(E.a,{style:{marginLeft:"8px"},name:"question circle outline"})})),r.a.createElement(_,{key:"samples-with-junction-more-than-".concat(t.minSamplesWithThisJunction),type:"text",defaultValue:t.minSamplesWithThisJunction,onKeyUp:function(e){return a(e,"minSamplesWithThisJunction",parseInt(e.target.value,10))}})," \xa0\u2264 n \u2264 ",r.a.createElement(_,{key:"samples-with-junction-less-than-".concat(t.maxSamplesWithThisJunction),type:"text",defaultValue:t.maxSamplesWithThisJunction,onKeyUp:function(e){return a(e,"maxSamplesWithThisJunction",parseInt(e.target.value,10))}})),r.a.createElement("div",null,r.a.createElement(N,null,"% samples with junction:",r.a.createElement(R,{content:"Filter junctions based on what percentage of samples in the batch have this junction. A sample is counted as having the junction as long as the junction is supported by at least one read.",position:"left center",trigger:r.a.createElement(E.a,{style:{marginLeft:"8px"},name:"question circle outline"})})),r.a.createElement(_,{key:"percent-samples-with-junction-more-than-".concat(t.minPercentSamplesWithThisJunction),type:"text",defaultValue:t.minPercentSamplesWithThisJunction,onKeyUp:function(e){return a(e,"minPercentSamplesWithThisJunction",parseInt(e.target.value,10))}})," \xa0\u2264 % \u2264 ",r.a.createElement(_,{key:"percent-samples-with-junction-less-than-".concat(t.maxPercentSamplesWithThisJunction),type:"text",defaultValue:t.maxPercentSamplesWithThisJunction,onKeyUp:function(e){return a(e,"maxPercentSamplesWithThisJunction",parseInt(e.target.value,10))}}))),r.a.createElement(Jt,null,r.a.createElement("div",null,r.a.createElement(N,null,"Donor/Acceptor Motifs:"),q.map((function(e){return r.a.createElement(N,{key:e},r.a.createElement(f.a,{label:"Show ".concat(e),checked:!t["hideMotif".concat(e)],onChange:function(t,a){return n(Object(L.a)({},"hideMotif".concat(e),!a.checked))}}))}))),r.a.createElement(A,null,"Track height: ",r.a.createElement(_,{key:"track-height-".concat(t.trackHeight),type:"text",defaultValue:t.trackHeight,onKeyUp:function(e){return a(e,"trackHeight",parseInt(e.target.value,10))}})," px"),r.a.createElement(A,null,r.a.createElement(B.a,{compact:!0,size:"small",onClick:function(){n(Object(F.a)({},t,{},Ft))}},"Apply"))),r.a.createElement(T,null,"Junctions Track ",r.a.createElement("br",null),"Options"),r.a.createElement("br",null),r.a.createElement(Jt,null,r.a.createElement(N,null,"Color by:"),r.a.createElement(N,null,r.a.createElement("select",{value:t.colorBy,onChange:function(e){return n({colorBy:e.target.value})}},r.a.createElement("option",{value:"strand"},"strand"),r.a.createElement("option",{value:"motif"},"donor/acceptor motif"),r.a.createElement("option",{value:"numUniqueReads"},"# uniquely-mapped reads"),r.a.createElement("option",{value:"numReads"},"# total reads"),r.a.createElement("option",{value:"isAnnotatedJunction"},"is known junction")),r.a.createElement(qt,{sjOptions:t,handleTextInput:a}))),r.a.createElement(Jt,null,r.a.createElement(N,null,"Junction label #1:"),r.a.createElement(N,null,r.a.createElement(Ht,{label:"# uniquely-mapped",name:"junctionLabelButton",checked:"uniqueReadCount"===t.labelWith,onChange:function(e,t){return t.checked&&n({labelWith:"uniqueReadCount"})}}),r.a.createElement(Ht,{label:"# total reads",name:"junctionLabelButton",checked:"totalReadCount"===t.labelWith,onChange:function(e,t){return t.checked&&n({labelWith:"totalReadCount"})}}),r.a.createElement(Ht,{label:"# samples with junction",name:"junctionLabelButton",checked:"numSamplesWithThisJunction"===t.labelWith,onChange:function(e,t){return t.checked&&n({labelWith:"numSamplesWithThisJunction"})}}),r.a.createElement(Ht,{label:"% samples with junction",name:"junctionLabelButton",checked:"percentSamplesWithThisJunction"===t.labelWith,onChange:function(e,t){return t.checked&&n({labelWith:"percentSamplesWithThisJunction"})}}),r.a.createElement(Ht,{label:"motif",name:"junctionLabelButton",checked:"motif"===t.labelWith,onChange:function(e,t){return t.checked&&n({labelWith:"motif"})}}))),r.a.createElement(Jt,null,r.a.createElement(N,null,"Junction label #2:"),r.a.createElement(N,null,r.a.createElement(Ht,{label:"none",name:"junctionLabel2Button",checked:!t.labelWithInParen,onChange:function(e,t){return t.checked&&n({labelWithInParen:null})}}),r.a.createElement(Ht,{label:"# uniquely-mapped",name:"junctionLabel2Button",checked:"uniqueReadCount"===t.labelWithInParen,onChange:function(e,t){return t.checked&&n({labelWithInParen:"uniqueReadCount"})}}),r.a.createElement(Ht,{label:"# total reads",name:"junctionLabel2Button",checked:"totalReadCount"===t.labelWithInParen,onChange:function(e,t){return t.checked&&n({labelWithInParen:"totalReadCount"})}}),r.a.createElement(Ht,{label:"# multi-mapped",name:"junctionLabel2Button",checked:"multiMappedReadCount"===t.labelWithInParen,onChange:function(e,t){return t.checked&&n({labelWithInParen:"multiMappedReadCount"})}}),r.a.createElement(Ht,{label:"# samples with junction",name:"junctionLabel2Button",checked:"numSamplesWithThisJunction"===t.labelWithInParen,onChange:function(e,t){return t.checked&&n({labelWithInParen:"numSamplesWithThisJunction"})}}),r.a.createElement(Ht,{label:"% samples with junction",name:"junctionLabel2Button",checked:"percentSamplesWithThisJunction"===t.labelWithInParen,onChange:function(e,t){return t.checked&&n({labelWithInParen:"percentSamplesWithThisJunction"})}}),r.a.createElement(Ht,{label:"motif",name:"junctionLabel2Button",checked:"motif"===t.labelWithInParen,onChange:function(e,t){return t.checked&&n({labelWithInParen:"motif"})}}))),r.a.createElement(Jt,null,r.a.createElement(N,null,"Junction thickness:"),r.a.createElement(N,null,r.a.createElement("select",{value:t.thicknessBasedOn,onChange:function(e){return n({thicknessBasedOn:e.target.value})}},r.a.createElement("option",{value:"numUniqueReads"},"# uniquely-mapped reads"),r.a.createElement("option",{value:"numReads"},"# total reads"),r.a.createElement("option",{value:"isAnnotatedJunction"},"is known junction"),r.a.createElement("option",{value:"numSamplesWithThisJunction"},"# samples with this junction")))),r.a.createElement(Jt,null,r.a.createElement(N,null,"Junction bounce height:"),r.a.createElement(N,null,r.a.createElement("select",{value:t.bounceHeightBasedOn,onChange:function(e){return n({bounceHeightBasedOn:e.target.value})}},r.a.createElement("option",{value:"random"},"random"),r.a.createElement("option",{value:"distance"},"distance"),r.a.createElement("option",{value:"thickness"},"thickness")))))})),Kt={},Yt=Object(l.b)((function(e){return{gcnvOptions:ue(e)}}),(function(e){return{updateGcnvOptions:function(t){e({type:"UPDATE_GCNV_OPTIONS",updates:t})}}}))((function(e){var t=e.gcnvOptions,n=e.updateGcnvOptions,a=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;13===e.keyCode?n(Object(F.a)({},t,{},Kt)):Kt[a]=r};return r.a.createElement("div",null,r.a.createElement(T,null,"gCNV Options"),r.a.createElement("br",null),r.a.createElement(A,null,r.a.createElement(f.a,{label:"Enable clicking background samples",checked:!t.onlyHandleClicksForHighlightedSamples,onChange:function(e,a){return n(Object(F.a)({},t,{onlyHandleClicksForHighlightedSamples:!a.checked}))}})),r.a.createElement(A,null,"Y-min: ",r.a.createElement(_,{key:"y-max-".concat(t.trackMin),type:"text",defaultValue:t.trackMin,onKeyUp:function(e){return a(e,"trackMin",parseInt(e.target.value,10))}})," copies"),r.a.createElement(A,null,"Y-max: ",r.a.createElement(_,{key:"y-max-".concat(t.trackMax),type:"text",defaultValue:t.trackMax,onKeyUp:function(e){return a(e,"trackMax",parseInt(e.target.value,10))}})," copies"),r.a.createElement(A,null,"Track height: ",r.a.createElement(_,{key:"track-height-".concat(t.trackHeight),type:"text",defaultValue:t.trackHeight,onKeyUp:function(e){return a(e,"trackHeight",parseInt(e.target.value,10))}})," px"),r.a.createElement(A,null,r.a.createElement(B.a,{compact:!0,size:"small",onClick:function(){n(Object(F.a)({},t,{},Kt))}},"Apply")))})),Xt=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.locusList,n=e.enabledDataTypes,a=e.setLocus,c=e.setLocusList;return r.a.createElement("div",null,r.a.createElement(Ke,{name:"Right Side Bar",locusList:t,setLocus:a,setLocusList:c}),n.includes("junctions")&&r.a.createElement(zt,null),n.includes("gcnv_bed")&&r.a.createElement(Yt,null),n.includes("alignment")&&r.a.createElement(Pt,null),n.includes("vcf")&&r.a.createElement(Mt,null))}}]),n}(r.a.PureComponent),Qt=Object(l.b)((function(e){return{locusList:te(e),enabledDataTypes:fe(e)}}),(function(e){return{setLocus:function(t){e({type:"UPDATE_LOCUS",newValue:t})},setLocusList:function(t){e({type:"SET_RIGHT_SIDE_BAR_LOCUS_LIST",values:t})}}}))(Xt);function $t(){var e=Object(i.a)(["\n  cursor: pointer;\n  margin-left: 20px;\n"]);return $t=function(){return e},e}var Zt=s.a.a($t()),en=function(){return r.a.createElement(He,{title:"About the TGG Viewer",size:"large",modalName:"AboutModal",trigger:r.a.createElement(Zt,null,"About")},"The Translational Genomics Group (TGG) Viewer is a free, open-source web app for visualizing splice junctions, copy number, and other data genome-wide using ",r.a.createElement("a",{href:"https://github.com/igvteam/igv.js",target:"_blank"},"IGV.js"),r.a.createElement("br",null),r.a.createElement("br",null),"Main features: ",r.a.createElement("br",null),r.a.createElement("ul",null,r.a.createElement("li",null,"Supports most file formats supported by IGV.js, including: .bed, .vcf, .bam, .cram, .bigWig, as well as several custom formats for splice junctions (.junctions.bed.gz) and gCNV copy-number variants (.gcnv.bed.gz) "),r.a.createElement("li",null,"Includes custom reference tracks such as splice junctions from GTEx v8 muscle, blood, and fibroblast samples."),r.a.createElement("li",null,"Supports adding gene or locus lists to left or right side bar for quick navigation across a list of regions."),r.a.createElement("li",null,"Can load data files or reference tracks from any Google bucket to which you have read-access."),r.a.createElement("li",null,"Retrieves just the on-screen sections of the files directly from Google buckets."),r.a.createElement("li",null,"All settings, gene lists, and data paths can be exported and later restored or shared with others via a .json config file. To export all current settings, click the ",r.a.createElement(E.a,{name:"download"})," button, upload the .json file to github (or another public url), and then to restore the settings, paste the file's URL into the Initial Settings input, and Apply. "),r.a.createElement("li",null,"The page url also records page settings so that they can be bookmarked or shared, but does not include gene lists.")),r.a.createElement("a",{href:"https://github.com/broadinstitute/tgg-viewer/issues",target:"_blank"},"Issues"),"\xa0or ",r.a.createElement("a",{href:"https://github.com/broadinstitute/tgg-viewer/issues",target:"_blank"},"Feature Requests"),"\xa0can be submitted via ",r.a.createElement("a",{href:"https://github.com/broadinstitute/tgg-viewer",target:"_blank"},"GitHub"),".")},tn=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isGoogleLoginRequired,n=e.user;return t?n.googleUserEmail?r.a.createElement("div",null,"Signed in to Google Buckets as ",r.a.createElement("b",null,n.googleUserEmail)):r.a.createElement("div",null,"Signing in to Google Buckets..."):r.a.createElement("div",null)}}]),n}(r.a.PureComponent),nn=Object(l.b)((function(e){return{isGoogleLoginRequired:pe(e),user:me(e)}}))(tn);function an(){var e=Object(i.a)(["\n  text-align: right;\n  padding-right: 75px !important;\n"]);return an=function(){return e},e}function rn(){var e=Object(i.a)(["\n  text-align: left;\n  padding-left: 75px !important;\n"]);return rn=function(){return e},e}function cn(){var e=Object(i.a)(["\n  color: #444;\n  margin-bottom: 5px;\n"]);return cn=function(){return e},e}var on=Object(s.a)(u.a.Row)(cn()),ln=Object(s.a)(u.a.Column).attrs({width:6})(rn()),sn=Object(s.a)(u.a.Column).attrs({width:10})(an()),un=function(){return r.a.createElement(u.a,null,r.a.createElement(on,null,r.a.createElement(ln,null,r.a.createElement("b",null,"TGG Viewer:"),r.a.createElement(en,null)),r.a.createElement(sn,null,r.a.createElement(nn,null))))},mn=n(303),pn=n(304),dn=function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];n&&clearTimeout(n),n=setTimeout((function(){t.apply(void 0,r),n=null}),e)}},gn={showIdeogram:!0,showNavigation:!0,showRuler:!0,showCenterGuide:!0,showCursorTrackingGuide:!0,showCommandBar:!0};function hn(e,t){var n=this;t||(t=this.clickedFeatures(e));var a=[];return t.forEach((function(t){if(!(t.end<e.genomicLocation||t.start>e.genomicLocation)&&"spliceJunctions"===n.config.type){if(!t.isVisible||!t.attributes)return;a.push("<hr />"),a.push({name:"<b>".concat(t.chr,":").concat(t.start,"-").concat(t.end," (").concat(t.strand," strand)</b>"),value:" "}),t.attributes.annotated_junction&&("true"===t.attributes.annotated_junction?a.push({name:"Known Junction",value:""}):a.push({name:"Novel Junction",value:""})),a.push("<hr />"),a.push({name:(t.end-t.start).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),value:"bp length"}),t.attributes.uniquely_mapped&&a.push({name:t.attributes.uniquely_mapped,value:"uniquely mapped reads"}),t.attributes.multi_mapped&&a.push({name:t.attributes.multi_mapped,value:"multi-mapped reads"}),t.attributes.uniquely_mapped&&t.attributes.multi_mapped&&a.push({name:parseInt(t.attributes.uniquely_mapped)+parseInt(t.attributes.multi_mapped),value:"total reads"}),t.attributes.maximum_spliced_alignment_overhang&&a.push({name:t.attributes.maximum_spliced_alignment_overhang,value:"bp maximum overhang"}),t.attributes.num_samples_with_this_junction&&(a.push({name:t.attributes.num_samples_with_this_junction,value:(t.attributes.num_samples_total?"out of ".concat(t.attributes.num_samples_total," "):"")+"samples have this junction"}),t.attributes.percent_samples_with_this_junction&&a.push({name:t.attributes.percent_samples_with_this_junction.toFixed(1),value:"% of samples have this junction"})),t.attributes.info&&a.push({name:" ",value:t.attributes.info.replace("_"," ")}),Object.keys(t.attributes).filter((function(e){return!["line_width","color","left_shape","right_shape","info","annotated_junction","uniquely_mapped","multi_mapped","maximum_spliced_alignment_overhang","num_samples_with_this_junction","percent_samples_with_this_junction","num_samples_total"].includes(e)})).forEach((function(e){a.push({name:e.replace(/_/g," "),value:t.attributes[e].replace(/_/g," ")})})),a=a.map((function(e){return e.name&&e.value?{name:"<b>".concat(e.name,"</b>"),value:e.value}:e}))}})),a}var fn=function(e){e?"spliceJunctions"===e.type?e.popupData=hn:"merged"===e.type&&e.tracks.filter((function(e){return"spliceJunctions"===e.type})).forEach((function(e){e.popupData=hn})):console.warn("monkeyPatchPopupData: track arg is undefined")},bn=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),a=t.call(this,e),Object(L.a)(Object(D.a)(a),"setContainerElement",(function(e){a.container=e})),Object(L.a)(Object(D.a)(a),"render",(function(){return r.a.createElement("div",null,r.a.createElement("div",{ref:a.setContainerElement}))})),Object(L.a)(Object(D.a)(a),"shouldTrackBeReloaded",(function(e,t,n){var a=t.selectedSamplesByCategoryNameAndRowName,r=t.enabledDataTypes,c=t.sjOptions,o=t.vcfOptions,l=t.bamOptions,i=t.gcnvOptions,s=["merged","wig","spliceJunctions"].includes(e.type)&&(n.enabledDataTypes.includes("junctions")!==r.includes("junctions")||n.enabledDataTypes.includes("coverage")!==r.includes("coverage")||n.sjOptions!==c),u="variant"===e.type&&n.vcfOptions!==o,m="alignment"===e.type&&n.bamOptions!==l,p="gcnv"===e.type&&n.gcnvOptions!==i,d="gcnv"===e.type&&(!it.a.isEqual(((n.selectedSamplesByCategoryNameAndRowName[e.categoryName]||{}).selectedSamples||{})[e.rowName],((a[e.categoryName]||{}).selectedSamples||{})[e.rowName])||!it.a.isEqual(((n.selectedSamplesByCategoryNameAndRowName[e.categoryName]||{}).sampleSettings||{})[e.rowName],((a[e.categoryName]||{}).sampleSettings||{})[e.rowName]));return s||u||m||p||d})),Object(L.a)(Object(D.a)(a),"getTrackId",(function(e){return"".concat(e.url,"|").concat(e.categoryName,"|").concat(e.rowName)})),Object(L.a)(Object(D.a)(a),"getIgvTrackView",(function(e){var t=a.getTrackId(e),n=a.browser.trackViews.filter((function(e){var n=(e.track||{}).config||{};return t===a.getTrackId(n)}));return n.length>0&&n[0]})),Object(L.a)(Object(D.a)(a),"reloadRemoveAndAddTracks",(function(e){if(a.ignoreNextTrackPropsAfterOrderChangedEvent)a.ignoreNextTrackPropsAfterOrderChangedEvent=!1;else{var t=e.tracks.reduce((function(e,t){return Object(F.a)(Object(L.a)({},"".concat(t.name,"|").concat(t.type),t),e)}),{});a.props.tracks&&a.props.tracks.forEach(function(){var n=Object(X.a)(Y.a.mark((function n(r){var c,o;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(c=t["".concat(r.name,"|").concat(r.type)])){n.next=12;break}if(!a.shouldTrackBeReloaded(r,a.props,e)){n.next=9;break}return o=a.getIgvTrackView(r),console.log("Reloading track",r.name,c),o.track.updateConfig(c),n.next=8,o.track.postInit();case 8:o.repaintViews();case 9:delete t["".concat(r.name,"|").concat(r.type)],n.next=13;break;case 12:try{console.log("Removing track",r.name),a.ignoreNextTrackRemovedEvent=!0,a.browser.removeTrackByName(r.name)}catch(l){console.warn("Unable to remove track",r.name,l)}case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),Object.values(t).forEach((function(e){try{a.getIgvTrackView(e)||(console.log("Loading new track",e.name),a.browser.loadTrack(e).then(fn))}catch(t){console.warn("Unable to add track",e.name,t)}}))}})),a.container=null,a.browser=null,a.ignoreNextLocusChangedEvent=!1,a.ignoreNextTrackRemovedEvent=!1,a.ignoreNextTrackPropsAfterOrderChangedEvent=!1,a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(X.a)(Y.a.mark((function e(){var t,n,a,r,c,o,l,i,s=this;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.container){e.next=2;break}return e.abrupt("return");case 2:t=this.props,n=t.genome,a=t.locus,r=t.tracks,c=t.locusChangedHandler,o=t.trackRemovedHandler,l=t.trackOrderChangedHandler,i=Object(F.a)({},gn,{locus:a,genome:n,tracks:r}),pn.a.createBrowser(this.container,i).then((function(e){s.browser=e,window.igvBrowser=e,e.trackViews.forEach((function(e){fn(e.track)})),c&&s.browser.on("locuschange",dn(300,(function(e){s.ignoreNextLocusChangedEvent||c(e),s.ignoreNextLocusChangedEvent=!1}))),o&&s.browser.on("trackremoved",(function(e){s.ignoreNextTrackRemovedEvent||o(e.config.categoryName,e.config.rowName),s.ignoreNextTrackRemovedEvent=!1})),l&&s.browser.on("trackorderchanged",(function(e){s.ignoreNextTrackPropsAfterOrderChangedEvent=!0,l(e)}))}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(e){if(!this.container||!this.browser)return!1;var t=this.browser.$searchInput.val(),n=e.locus;return!e.locus||t&&n.replace(/,/g,"")===t.replace(/,/g,"")||(this.ignoreNextLocusChangedEvent=!0,this.browser.search(n)),this.reloadRemoveAndAddTracks(e),!1}}]),n}(r.a.Component),En=Object(l.b)((function(e){return{genome:ae(e),locus:ee(e),tracks:ve(e),enabledDataTypes:fe(e),selectedSamplesByCategoryNameAndRowName:oe(e),sjOptions:le(e),vcfOptions:ie(e),bamOptions:se(e),gcnvOptions:ue(e)}}),(function(e){return{locusChangedHandler:function(t){if(t&&t.label){var n=t.label.replace(/,/g,"");e({type:"UPDATE_LOCUS",newValue:n})}},trackRemovedHandler:function(t,n){e({type:"REMOVE_SELECTED_ROW_NAMES",categoryName:t,selectedRowNames:[n]})},trackOrderChangedHandler:function(t){e({type:"UPDATE_TRACK_ORDER",newValue:t})}}}))(bn);function vn(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-top: 50px;\n  margin-left: 100px;\n  word-wrap: break-word;\n  word-break: break-all;\n"]);return vn=function(){return e},e}function yn(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 50px;\n"]);return yn=function(){return e},e}var On=s.a.div(yn()),wn=s.a.div(vn()),Sn=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),a=t.call(this,e),Object(L.a)(Object(D.a)(a),"handleGoogleSignIn",(function(e){var t=e&&e.getBasicProfile(),n=t&&t.getEmail();a.setState({show:n?"igv":"signin-button"}),a.props.userChangedHandler(n)})),Object(L.a)(Object(D.a)(a),"render",(function(){if("igv"===a.state.show||!a.props.isGoogleLoginRequired)return console.log("Render <IGV />"),r.a.createElement(En,null);if("signin-button"===a.state.show){var e=0,t=new Set;return a.props.rowsInCategories.forEach((function(n){n.rows.forEach((function(n){n.data&&n.data.forEach((function(n){if(n.url&&n.url.startsWith("gs://")){e+=1;var a=n.url.split("/")[2];"tgg-viewer"!==a&&t.add(a)}}))}))})),0===e?r.a.createElement(wn,null,"No dataset paths loaded. \xa0 Please specify an Initial settings url."):r.a.createElement("div",null,r.a.createElement(wn,null,r.a.createElement("div",null,"Retrieved ",e," data paths from settings file: ",r.a.createElement("a",{href:a.props.initialSettingsUrl,target:"_blank"},a.props.initialSettingsUrl),r.a.createElement("br",null),r.a.createElement("br",null)),t.size>0&&r.a.createElement("div",null,"To view this data, you should have read access to the following Google Storage buckets:",r.a.createElement("ul",null,Array.from(t).map((function(e){return r.a.createElement("li",{key:e},r.a.createElement("a",{href:"https://console.cloud.google.com/storage/browser/".concat(e),target:"_blank"},e))})))),"cookies-disabled"===a.state.signInError&&r.a.createElement("div",{style:{marginTop:"20px",color:"red",textAlign:"left"}},r.a.createElement("b",null,"ERROR: Cookies are disabled"),r.a.createElement("br",null),"Please allow cookies to enable sign in with Google.")),r.a.createElement(On,null,r.a.createElement(mn.GoogleLogin,{clientId:window.TGG_VIEWER_CLIENT_ID,theme:"dark",buttonText:"Sign in with Google",disabled:a.state.signInError,onSuccess:a.handleGoogleSignIn,onFailure:a.handleGoogleSignIn,cookiePolicy:"single_host_origin"})))}return null})),a.state={},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(X.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.isGoogleLoginRequired){e.next=3;break}return this.setState({show:"igv"}),e.abrupt("return");case 3:return e.prev=3,e.next=6,new Promise((function(e){"undefined"!==typeof gapi&&gapi.load("client:auth2",(function(){gapi.client.load("storage","v1",(function(){gapi.client.init({clientId:"61200892608-qphtf65o323setqdcfj4hnf601mmetvs.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/devstorage.read_only",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/storage/v1/rest"]}),e()}))}))}));case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(3),console.error("Error during google sign-in init:",e.t0),this.setState({show:"signin-button"}),e.abrupt("return");case 13:return e.prev=13,this.setState({signInError:null}),e.next=17,Q();case 17:e.next=25;break;case 19:return e.prev=19,e.t1=e.catch(13),console.error("Error during google sign-in:",e.t1),e.t1.details&&e.t1.details.search("Cookies are not enabled")>=0&&this.setState({signInError:"cookies-disabled"}),this.setState({show:"signin-button"}),e.abrupt("return");case 25:return e.next=27,$();case 27:t=e.sent,this.setState({show:t?"igv":"signin-button"}),this.props.userChangedHandler(t);case 30:case"end":return e.stop()}}),e,this,[[3,8],[13,19]])})));return function(){return e.apply(this,arguments)}}()}]),n}(r.a.Component),jn=Object(l.b)((function(e){return{isGoogleLoginRequired:pe(e),rowsInCategories:re(e),initialSettingsUrl:de(e)}}),(function(e){return{userChangedHandler:function(t){e({type:"UPDATE_USER",updates:{googleUserEmail:t}})}}}))(Sn),kn=n(595),xn=n(306),Tn=n.n(xn),Rn=n(307),Cn=n.n(Rn),Nn=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){switch(this.props.status){case n.IN_PROGRESS:return r.a.createElement(E.a,{loading:!0,name:"spinner",style:{color:"#4183c4"}});case n.SUCCEEDED:return r.a.createElement(b.a,{trigger:r.a.createElement(E.a,{name:"check circle",style:{color:"#00C000"}}),content:this.props.successMessage||"Success",position:"top center",size:"small"});case n.ERROR:return r.a.createElement(b.a,{trigger:r.a.createElement(E.a,{name:"warning circle",style:{color:"#F00000"}}),content:this.props.errorMessage||"",position:"top center",size:"small"});default:return r.a.createElement(E.a,{name:"warning circle",style:{color:"rgb(0,0,0,0.0)"}})}}}]),n}(r.a.PureComponent);Object(L.a)(Nn,"NONE","NONE"),Object(L.a)(Nn,"IN_PROGRESS","IN_PROGRESS"),Object(L.a)(Nn,"SUCCEEDED","SUCCEEDED"),Object(L.a)(Nn,"ERROR","ERROR");var An=Nn,_n=n(194),Ln=n.n(_n),In=n(195),Bn=n.n(In),Dn={},Un={isGoogleLoginRequired:!0,genome:"hg38",locus:"chr15:92,835,700-93,031,800",dataTypesToShow:["junctions","coverage","vcf","gcnv_bed"],leftSideBarLocusList:[],rightSideBarLocusList:[],rowsInCategories:[],selectedRowNamesByCategoryName:{},sjOptions:{trackHeight:170,hideAnnotated:!1,hideUnannotated:!1,colorBy:"strand",minUniquelyMappedReads:0,minTotalReads:1,maxFractionMultiMappedReads:1,maxPercentSamplesWithThisJunction:100,maxSamplesWithThisJunction:1e9,minJunctionEndsVisible:0,minPercentSamplesWithThisJunction:0,minSamplesWithThisJunction:0,minSplicedAlignmentOverhang:0,thicknessBasedOn:"numUniqueReads",bounceHeightBasedOn:"random",labelWith:"uniqueReadCount"},vcfOptions:{displayMode:"EXPANDED"},bamOptions:{trackHeight:200,showSoftClips:!0,alignmentShading:"strand"},gcnvOptions:{trackHeight:200,trackMin:0,trackMax:5,autoscale:!1,onlyHandleClicksForHighlightedSamples:!0},initialSettingsUrl:"https://broadinstitute.github.io/rnaseq-methods/pipelines/tgg_viewer/configs/default.json"},Pn=["leftSideBarLocusList","rightSideBarLocusList"],Mn=function(){return Pn.reduce((function(e,t){var n=function(e){try{var t=localStorage.getItem(e),n=Bn.a.decompress(t);if(Dn[e]=n,null===n)return;return JSON.parse(n)}catch(a){return}}(t);return void 0!==n&&(e[t]=n),e}),{})},Vn={locus:"locus",dataTypesToShow:"show",trackOrder:"order",selectedRowNamesByCategoryName:"selectedRows",selectedSamplesByCategoryNameAndRowName:"selectedSamples",sjOptions:"sjOptions",vcfOptions:"vcfOptions",bamOptions:"bamOptions",gcnvOptions:"gcnvOptions",initialSettingsUrl:"settingsUrl"},Wn=function(){var e=Object.entries(Vn).reduce((function(e,t){var n=Object(I.a)(t,2),a=n[0],r=n[1];return Object(F.a)({},e,Object(L.a)({},r,a))}),{}),t=window.location.hash.replace(/^#/,"");return t?t.split("&").reduce((function(t,n){var a=n.split("="),r=a[0]in e?e[a[0]]:a[0];if("locus"===r)t=Object(F.a)({},t,Object(L.a)({},r,a[1]));else try{t[r]=Ln.a.parse(a[1])}catch(c){console.error("Couldn't parse url hash param",a[0],": ",a[1])}return(!t[r]||"object"===typeof t[r]&&0===Object.keys(t[r]).length)&&delete t[r],t}),{}):{}},Gn=function(e){Pn.forEach((function(t){!function(e,t){try{var n=JSON.stringify(t);if(Dn[e]===n)return;console.warn("LocalStorage: compressing ".concat(e));var a=Bn.a.compress(n);localStorage.setItem(e,a),Dn[e]=n}catch(r){console.warn("Unable to save state: ",e,t,r)}}(t,e[t])}));var t=Object.keys(e).filter((function(e){return e in Vn})).reduce((function(t,n){var a="locus"===n?e[n].replace(",",""):Ln.a.stringify(e[n]);return[].concat(Object(h.a)(t),["".concat(Vn[n],"=").concat(a)])}),[]).join("&");window.location.hash="#".concat(t)};function Jn(){var e=Object(i.a)(["\n  margin-left: 10px !important;\n"]);return Jn=function(){return e},e}function Hn(){var e=Object(i.a)(["\n  margin-left: 20px !important;\n  margin-right: 15px !important;\n"]);return Hn=function(){return e},e}function qn(){var e=Object(i.a)(["\n  margin-top: 100px;\n  width: calc(100% - 350px);\n"]);return qn=function(){return e},e}function Fn(){var e=Object(i.a)(["\n  color: #999;\n  width: 100%;\n  text-align: center;\n  \n  .ui.label {\n    color: #444;\n    background-color: #f3f3f3;\n  }\n"]);return Fn=function(){return e},e}var zn=s.a.div(Fn()),Kn=Object(s.a)(kn.a)(qn()),Yn=Object(s.a)(B.a)(Hn()),Xn=Object(s.a)(B.a)(Jn()),Qn=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),a=t.call(this,e),Object(L.a)(Object(D.a)(a),"loadInitialSettingsUrl",function(){var e=Object(X.a)(Y.a.mark((function e(t,n){var r,c,o,l,i,s,u,m,p,d,g,h,f,b;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props,c=r.globalState,o=r.updateInitialSettingsUrl,l=r.resetGlobalState,t){e.next=5;break}return l(Object(F.a)({},Un,{},{user:c.user})),o(""),e.abrupt("return");case 5:if(n||(i=Mn(),s=Wn()),-1!==t.search(":")&&-1!==t.search("/")){e.next=8;break}throw new Error('Invalid url: "'.concat(t,'"'));case 8:return u=-1!==t.search(".yaml")||-1!==t.search(".yml"),m=-1!==t.search(".json"),p=!u&&!m,e.next=13,fetch(t);case 13:if((d=e.sent).ok){e.next=16;break}throw new Error("Couldn't load URL. Error: ".concat(d.statusText.toLowerCase()," (").concat(d.status,")"));case 16:return e.next=18,d.text();case 18:if(g=e.sent,(h=null)||!u&&!p){e.next=28;break}e.prev=21,h=Cn.a.safeLoad(g),e.next=28;break;case 25:throw e.prev=25,e.t0=e.catch(21),new Error("Unable to parse YAML file: ".concat(t,"  ").concat(e.t0));case 28:if(h||!m&&!p){e.next=36;break}e.prev=29,h=JSON.parse(g),e.next=36;break;case 33:throw e.prev=33,e.t1=e.catch(29),new Error("Unable to parse JSON file: ".concat(t,"  ").concat(e.t1));case 36:if(h){e.next=38;break}throw new Error("Unable to parse settings from file: ".concat(t));case 38:f=Object.keys(c).reduce((function(e,t){return t in h?Object(F.a)({},e,Object(L.a)({},t,h[t])):e}),{}),console.log("Retrieved state from config file:",f),b=Object(F.a)({},c,{},f),n||(console.log("Applying settings from local storage",i),console.log("Applying settings from url hash",s),b=Object(F.a)({},b,{},i,{},s)),console.log("Setting global state to",b),l(b),o(t);case 45:case"end":return e.stop()}}),e,null,[[21,25],[29,33]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(L.a)(Object(D.a)(a),"applyInitialSettingsUrl",function(){var e=Object(X.a)(Y.a.mark((function e(t){var n,r,c,o,l=arguments;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]&&l[1],a.setState({requestStatus:An.IN_PROGRESS}),t.startsWith("https://github.com/")?t=t.replace("https://github.com","https://raw.githubusercontent.com").replace("blob/",""):(t.startsWith("https://storage.googleapis.com")||t.startsWith("gs://"))&&(r=t.replace("gs://","").replace("https://storage.googleapis.com/","").split("/"),c=r[0],o=r.slice(1).join("/"),t="https://".concat(c,".storage.googleapis.com/").concat(o)),e.prev=3,e.next=6,a.loadInitialSettingsUrl(t,n);case 6:a.setState({requestStatus:An.SUCCEEDED,successMessage:t?"Successfully loaded URL and applied settings":"Reset all settings to defaults"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a.setState({requestStatus:An.ERROR,errorMessage:e.t0.toString()});case 12:return e.next=14,Tn()(1e4);case 14:a.state.requestStatus!==An.IN_PROGRESS&&a.setState({requestStatus:An.NONE,errorMessage:""});case 15:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()),Object(L.a)(Object(D.a)(a),"exportCurrentSettings",(function(){var e=["user","modals"],t=Object.keys(a.props.globalState).reduce((function(t,n){return e.includes(n)||(t[n]=a.props.globalState[n]),t}),{});return encodeURIComponent(JSON.stringify(t,null,5))})),a.textInputValue=e.initialSettingsUrl||"",a.state={requestStatus:An.NONE,successMessage:"",errorMessage:""},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(X.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.initialSettingsUrl)){e.next=5;break}return console.log("Loading settings from",t),e.next=5,this.applyInitialSettingsUrl(t,!1);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.initialSettingsUrl;return r.a.createElement(zn,{align:"center"},r.a.createElement(Kn,{label:"Initial settings:",defaultValue:t,placeholder:"URL of .yaml or .json settings file (eg. http://.../settings.json), or blank to reset all settings to defaults.",onChange:function(t){e.textInputValue=t.target.value},onKeyUp:function(t){return 13===t.keyCode&&e.applyInitialSettingsUrl(t.target.value,!0)}}),r.a.createElement(Yn,{content:"Apply",onClick:function(){return e.applyInitialSettingsUrl(e.textInputValue,!0)}}),r.a.createElement(An,{status:this.state.requestStatus,errorMessage:this.state.errorMessage,successMessage:this.state.successMessage}),r.a.createElement(b.a,{content:"Export current settings to a .json file. If you then upload this file to a public url (for example to github) and then paste the url here, the current settings will be restored.",position:"right center",trigger:r.a.createElement("a",{download:"settings.json",href:"data:text/json;charset=utf-8,".concat(this.exportCurrentSettings())},r.a.createElement(Xn,{icon:"download"}))}))}}]),n}(r.a.PureComponent),$n=Object(l.b)((function(e){return{globalState:e,initialSettingsUrl:de(e)}}),(function(e){return{updateInitialSettingsUrl:function(t){e({type:"UPDATE_INITIAL_SETTINGS_URL",newValue:t})},resetGlobalState:function(t){e({type:"RESET_GLOBAL_STATE",newState:t})}}}))(Qn);function Zn(){var e=Object(i.a)(["\n  min-width: calc(99% - ","px) !important;\n  z-index: 1;\n"]);return Zn=function(){return e},e}function ea(){var e=Object(i.a)(["\n  min-width: ","px !important;\n  z-index: 0;\n"]);return ea=function(){return e},e}function ta(){var e=Object(i.a)(["\n  min-width: ","px !important;\n  z-index: 2;\n"]);return ta=function(){return e},e}function na(){var e=Object(i.a)(["\n  padding: 10px 20px;\n"]);return na=function(){return e},e}var aa=s.a.div(na()),ra=Object(s.a)(u.a.Column)(ta(),210),ca=Object(s.a)(u.a.Column)(ea(),210),oa=Object(s.a)(u.a.Column)(Zn(),425),la=function(){return r.a.createElement(aa,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Row,null,r.a.createElement(ra,null,r.a.createElement(Dt,null)),r.a.createElement(oa,null,r.a.createElement(un,null),r.a.createElement(jn,null),r.a.createElement($n,null)),r.a.createElement(ca,null,r.a.createElement(Qt,null)))))},ia=n(77),sa=n(308),ua=Object(ia.c)(Object.assign({isGoogleLoginRequired:Ae,genome:Ae,locus:_e("UPDATE_LOCUS",""),rightSideBarLocusList:Ie("RIGHT_SIDE_BAR_LOCUS_LIST"),leftSideBarLocusList:Ie("LEFT_SIDE_BAR_LOCUS_LIST"),dataTypesToShow:Ie("DATA_TYPES_TO_SHOW"),rowsInCategories:function(e,t){return t&&t.categoryName&&t.rows?e.map((function(e){if(e.categoryName!==t.categoryName)return e;var n;switch(t.type){case"SET_ROWS":n=Object(h.a)(t.rows);break;case"ADD_ROWS":var a=e.rows.map((function(e){return e.name}));n=[].concat(Object(h.a)(e.rows),Object(h.a)(t.rows.filter((function(e){return!a.includes(e.name)}))));break;default:n=e.rows}return Object(F.a)({},e,{rows:n})})):e||[]},selectedRowNamesByCategoryName:function(e,t){if(!t||!t.categoryName||!Array.isArray(t.selectedRowNames))return e||{};var n=e[t.categoryName]||[];switch(t.type){case"SET_SELECTED_ROW_NAMES":case"ADD_SELECTED_ROW_NAMES":case"REMOVE_SELECTED_ROW_NAMES":var a;if("SET_SELECTED_ROW_NAMES"===t.type)a=Array.from(new Set(t.selectedRowNames));else if("ADD_SELECTED_ROW_NAMES"===t.type)a=Array.from(new Set([].concat(Object(h.a)(n),Object(h.a)(t.selectedRowNames))));else{var r=t.selectedRowNames;a=n.filter((function(e){return!r.includes(e)}))}return Object(F.a)({},e,Object(L.a)({},t.categoryName,a));default:console.trace("Unknown action type: ".concat(t.type))}return e},selectedSamplesByCategoryNameAndRowName:function(e,t){if(!t||!t.categoryName||!t.selectedSamplesByRowName&&!t.sampleSettingsByRowNameAndSampleName)return e||{};var n=e[t.categoryName]||{},a=n.selectedSamples||{},r=n.sampleSettings||{},c=a,o=r;switch(t.type){case"SET_SELECTED_SAMPLES":case"ADD_SELECTED_SAMPLES":case"REMOVE_SELECTED_SAMPLES":c="SET_SELECTED_SAMPLES"===t.type?Object(F.a)({},a,{},t.selectedSamplesByRowName):"ADD_SELECTED_SAMPLES"===t.type?Array.from(new Set([].concat(Object(h.a)(Object.keys(a)),Object(h.a)(Object.keys(t.selectedSamplesByRowName))))).reduce((function(e,n){return e[n]=Array.from(new Set([].concat(Object(h.a)(a[n]||[]),Object(h.a)(t.selectedSamplesByRowName[n]||[])))),e}),{}):Object.keys(a).reduce((function(e,n){var r=t.selectedSamplesByRowName[n]||[],c=(a[n]||[]).filter((function(e){return!r.includes(e)}));return c.length>0&&(e[n]=c),e}),{});break;case"UPDATE_SAMPLE_SETTINGS":o=Object(F.a)({},r,{},t.sampleSettingsByRowNameAndSampleName),Object.keys(t.sampleSettingsByRowNameAndSampleName).forEach((function(e){var n=r[e]||{},a=t.sampleSettingsByRowNameAndSampleName[e],c=Object(F.a)({},n,{},a);Object.entries(a).forEach((function(e){var t=Object(I.a)(e,2),a=t[0],r=t[1],o=Object(F.a)({},n[a]||{},{},r);c[a]=o})),o[e]=c}));break;default:return console.trace("Unknown action type: ".concat(t.type)),e}return Object(F.a)({},e,Object(L.a)({},t.categoryName,{selectedSamples:c,sampleSettings:o}))},trackOrder:_e("UPDATE_TRACK_ORDER",[]),sjOptions:Le("UPDATE_SJ_OPTIONS"),vcfOptions:Le("UPDATE_VCF_OPTIONS"),bamOptions:Le("UPDATE_BAM_OPTIONS"),gcnvOptions:Le("UPDATE_GCNV_OPTIONS"),user:Le("UPDATE_USER"),initialSettingsUrl:_e("UPDATE_INITIAL_SETTINGS_URL","")},Be)),ma=function(e,t){if("RESET_GLOBAL_STATE"===t.type)return t.newState;var n=ua(e,t);return Gn(n),n},pa=function(){var e=function(){var e=Mn(),t=Wn();return Object(F.a)({},Un,{},e,{},t)}();return console.log("Initializing store to:",e),Object(ia.e)(ma,e,Object(ia.d)(Object(ia.a)(sa.a)))};var da=function(){return r.a.createElement(l.a,{store:pa()},r.a.createElement(la,null))};o.a.render(r.a.createElement(da,null),document.getElementById("root"))}},[[321,1,2]]]);
//# sourceMappingURL=main.15abd0ef.chunk.js.map