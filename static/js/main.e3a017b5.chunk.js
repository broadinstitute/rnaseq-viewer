(this.webpackJsonprnaseq_viewer=this.webpackJsonprnaseq_viewer||[]).push([[0],{292:function(e,t,n){e.exports=n(494)},297:function(e,t,n){},494:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(47),c=n.n(l),o=(n(297),n(34)),s=n(14),i=n(15),u=n(515),m=n(9),p=n(19),d=n(20),g=n(21),f=n(22),b=n(513),h=n(495),E=n(67),v=n(511),y=n(510),O=n(496),S=n(512),_=n(28),j=n(27),T=n(25),w=n(26),k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;if(!r)return a;switch(r.type){case e:return void 0===r.newValue?(console.error("Invalid ".concat(e," action: action.newValue is undefined: "),r),a):(n&&console.log("singleValueReducer: applying action: ",r,"State changing from ",a," to ",r.newValue),r.newValue);default:return a}};return a},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;if(!r)return a;switch(r.type){case e:if(void 0===r.updates)return console.error("Invalid ".concat(e," action: action.updates is undefined: "),r),a;var l=Object(w.a)({},a,{},r.updates);return n&&console.log("singleObjectReducer: applying action: ",r,"State changing from ",a," to ",l),l;default:return a}};return a},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;if(!r)return a;switch(r.type){case"SET_".concat(e):case"ADD_".concat(e):case"REMOVE_".concat(e):if(!Array.isArray(r.values))return console.error("Invalid ".concat(r.type," action: action.values is undefined or not an array: "),r),a;var l;if(r.type==="SET_".concat(e))l=Object(T.a)(r.values);else if(r.type==="ADD_".concat(e))l=[].concat(Object(T.a)(a),Object(T.a)(r.values));else{var c=r.values;l=a.filter((function(e){return!c.includes(e)}))}return n&&console.log("createArrayReducer: applying action: ",r,"State changing from ",a," to ",l),l;default:return a}};return a},C={modals:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,l=arguments.length>1?arguments[1]:void 0;if(!l)return r;switch(l.type){case e:if(void 0===l.updatesById)return console.error("Invalid ".concat(e," action. action.updatesById is undefined: "),l),r;var c=l.updatesById;if(t){if(!(t in c))return r;c=c[t]}var o=Object(w.a)({},r);return Object.entries(c).forEach((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];null==a?delete o[n]:o[n]?o[n]=Object(w.a)({},o[n],{},a):o[n]=Object(w.a)({},a)})),a&&console.log("objectsByIdReducer: applying action: ",l,"State changing from: ",r," to ",o),o;default:return r}};return r}("UPDATE_MODAL_STATE")},N=function(e,t){return e.modals[t]&&e.modals[t].open};function L(){var e=Object(s.a)(["\n  margin-left: 10px !important;\n  width: 100px;\n"]);return L=function(){return e},e}function I(){var e=Object(s.a)(["\n  float: right;\n  padding: 0px 20px 20px 20px;\n"]);return I=function(){return e},e}function R(){var e=Object(s.a)(["\n  &.ui.button.basic {\n    white-space: nowrap;\n    border: none;\n    padding: ",";\n    color: "," !important;\n    text-decoration: none;\n    font-weight: ",';\n    box-shadow: none !important;\n    user-select: auto;\n    \n    &:hover, &:focus, &:active {\n      color: #1e70bf !important;\n      background: transparent !important;\n    }\n    \n    &[class*="right labeled"].icon {\n      padding-left: 0 !important;\n      padding-right: 2.1em !important;\n      \n      > .icon {\n        background-color: initial;\n      }\n    }\n  }\n']);return R=function(){return e},e}var B=Object(i.a)(O.a).attrs({basic:!0})(R(),(function(e){return e.padding||0}),(function(e){return e.color||"#4183C4"}),(function(e){return e.fontWeight||"inherit"})),U=i.a.div(I()),M=Object(i.a)(O.a)(L()),G=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){var e=!0;n.props.handleClose&&(e=n.props.handleClose()),e&&n.props.close()},n.handleSave=function(){var e=!0;n.props.handleSave&&(e=n.props.handleSave()),e&&n.props.close()},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.trigger?r.a.cloneElement(this.props.trigger,{onClick:this.props.open}):null;return r.a.createElement(S.a,{open:this.props.isOpen,trigger:e,onClose:this.handleClose,size:this.props.size},r.a.createElement(S.a.Header,null,this.props.title,r.a.createElement(B,{floated:"right",onClick:this.handleClose,icon:r.a.createElement(E.a,{name:"remove",color:"grey"})})),r.a.createElement(S.a.Content,null,this.props.children),r.a.createElement(U,null,r.a.createElement(M,{tabIndex:0,onClick:this.handleClose,type:"button"},"Cancel"),r.a.createElement(M,{tabIndex:0,onClick:this.handleSave,type:"submit",color:"blue"},this.props.handleSave?"Save":"Ok")))}}]),t}(r.a.PureComponent);G.defaultProps={size:"small"};var P=Object(o.b)((function(e,t){return{isOpen:N(e,t.modalName)}}),(function(e,t){return{open:function(n){var a;n.preventDefault(),e((a=t.modalName,function(e){return e({type:"UPDATE_MODAL_STATE",updatesById:Object(_.a)({},a,{open:!0})})}))},close:function(){var n,a;e((n=t.modalName,a=!0,function(e,t){t().modals[n].confirmOnClose&&!a?e({type:"UPDATE_MODAL_STATE",updatesById:Object(_.a)({},n,{confirming:!0})}):e({type:"UPDATE_MODAL_STATE",updatesById:Object(_.a)({},n,{open:!1,confirming:!1,confirmOnClose:null})})}))}}}))(G);function D(){var e=Object(s.a)(["\n  cursor: pointer;\n"]);return D=function(){return e},e}var V=i.a.a(D()),q=function(e){function t(e){var n;Object(m.a)(this,t),(n=Object(d.a)(this,Object(g.a)(t).call(this,e))).render=function(){var e=n.props,t=e.locusList,a=e.name,l=e.setLocusList,c="Locus List - ".concat(a);return r.a.createElement(P,{title:c,size:"large",modalName:c,trigger:r.a.createElement(V,null,(t||[]).length>0?r.a.createElement("div",null,r.a.createElement("br",null),"Edit Locus List"):r.a.createElement("div",null,"Add Locus List To Side Bar")),handleSave:function(){var e=n.textAreaValue.split(/[,\s]+/).filter(Boolean);return l(e),!0}},r.a.createElement(v.a,null,r.a.createElement(v.a.Field,{control:y.a,style:{minHeight:"300px"},defaultValue:n.textAreaValue,onKeyUp:function(e){n.textAreaValue=e.target.value},placeholder:"Enter genomic positions, intervals, and/or gene names separated by commas, spaces, or new lines.  These can be in any format recognized by the IGV search bar.  For example: DMD, ENST00000589830, chr1:55516888, 2:152341851-152591002"})),r.a.createElement("br",null),r.a.createElement("b",null,r.a.createElement("i",null,"NOTE:"))," This locus list will be saved across page refreshes in this browser, but will not be recorded in the page url like other settings. Sharing or bookmarking this page won't include the contents of this list.")};var a=n.props.locusList;return n.textAreaValue=(a||[]).join("\n"),n}return Object(f.a)(t,e),t}(r.a.PureComponent),J=function(e){var t=e.name,n=e.locusList,a=e.setLocus,l=e.setLocusList;return r.a.createElement("div",null,n.map((function(e,t){return r.a.createElement("div",{key:e},t+1,". \xa0 ",r.a.createElement(V,{onClick:function(){a(e)}},e))})),r.a.createElement(q,{name:t,locusList:n,setLocusList:l}))};function z(){var e=Object(s.a)(["\n  opacity: 0.95;\n"]);return z=function(){return e},e}function H(){var e=Object(s.a)(["\n  padding-top: 3px;\n"]);return H=function(){return e},e}function F(){var e=Object(s.a)([" \n  display: inline-block;\n  margin: 12px 0px 0px 0px !important;\n"]);return F=function(){return e},e}var W=i.a.h3(F()),X=i.a.div(H()),K=Object(i.a)(b.a)(z()),Y=n(508),Q=n(514),$=n(100),Z=n.n($),ee={".bigWig":"coverage",".junctions.bed":"spliceJunctions",".spliceJunctions.bed":"spliceJunctions",".junctions.bed.gz":"spliceJunctions",".spliceJunctions.bed.gz":"spliceJunctions",".bam":"bam",".cram":"bam",".vcf":"vcf",".vcf.gz":"vcf",".wig":"wig",".bedGraph":"wig"},te=["GT/AG","CT/AC","GC/AG","CT/GC","AT/AC","GT/AT","non-canonical"],ne=n(132),ae=n(1),re=n.n(ae),le=function(){var e;return re.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re.a.awrap(gapi.auth2.getAuthInstance());case 2:if((e=t.sent).isSignedIn.get()){t.next=6;break}return t.next=6,re.a.awrap(e.signIn());case 6:case"end":return t.stop()}}))},ce=function(){var e,t;return re.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,re.a.awrap(gapi.auth2.getAuthInstance());case 2:return e=n.sent,t=e.currentUser.get().getBasicProfile(),n.abrupt("return",t.getEmail());case 5:case"end":return n.stop()}}))},oe=function(){var e,t;return re.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,re.a.awrap(gapi.auth2.getAuthInstance());case 2:return e=n.sent,t=e.currentUser.get(),e.isSignedIn.get()||t.reloadAuthResponse(),n.abrupt("return",t.getAuthResponse().access_token);case 6:case"end":return n.stop()}}))},se=function(e){return e.locus},ie=function(e){return e.rightSideBarLocusList},ue=function(e){return e.leftSideBarLocusList},me=function(e){return e.genome},pe=function(e){return e.samplesInCategories},de=function(e){return e.selectedSampleNamesByCategoryName},ge=function(e){return e.sjOptions},fe=function(e){return e.vcfOptions},be=function(e){return e.bamOptions},he=function(e){return e.user},Ee=function(e){return e.initialSettings},ve=function(e){return e.initialSettingsUrl},ye=function(e){return e.initialSettingsUrlHasBeenApplied},Oe=Object(ne.a)(pe,(function(e){return e.reduce((function(e,t){return Object(w.a)({},e,Object(_.a)({},t.categoryName,t.samples))}),{})})),Se=Object(ne.a)(de,Oe,(function(e,t){return Object.entries(e).reduce((function(e,n){var a=Object(j.a)(n,2),r=a[0],l=a[1];return t[r]?Object(w.a)({},e,Object(_.a)({},r,t[r].filter((function(e){return l.includes(e.name)})))):e}),{})})),_e=Object(ne.a)(Se,ge,fe,be,(function(e,t,n,a){var r=[];return Object.entries(e).forEach((function(e){var l=Object(j.a)(e,2),c=l[0];return l[1].forEach((function(e,l){var o,s;e.junctions&&t.showJunctions&&(o={type:"spliceJunctions",format:"bed",url:e.junctions,indexURL:"".concat(e.junctions,".tbi"),oauthToken:oe,order:10*l,name:e.name,categoryName:c,height:t.trackHeight,minUniquelyMappedReads:t.minUniquelyMappedReads,minTotalReads:t.minTotalReads,maxFractionMultiMappedReads:t.maxFractionMultiMappedReads,minSplicedAlignmentOverhang:t.minSplicedAlignmentOverhang,thicknessBasedOn:t.thicknessBasedOn,bounceHeightBasedOn:t.bounceHeightBasedOn,colorBy:t.colorBy,colorByNumReadsThreshold:void 0!==t.colorByNumReadsThreshold?t.colorByNumReadsThreshold:5,hideStrand:t.showOnlyPlusStrand?"-":t.showOnlyMinusStrand?"+":void 0,labelUniqueReadCount:t.labelUniqueReadCount,labelMultiMappedReadCount:t.labelMultiMappedReadCount,labelTotalReadCount:t.labelTotalReadCount,labelMotif:t.labelMotif,labelAnnotatedJunction:t.labelAnnotatedJunction&&t.labelAnnotatedJunctionValue,hideAnnotatedJunctions:t.hideAnnotated,hideUnannotatedJunctions:t.hideUnannotated,hideMotifs:te.filter((function(e){return t["hideMotif".concat(e)]}))}),e.coverage&&t.showCoverage&&(s={type:"wig",format:"bigwig",url:e.coverage,oauthToken:oe,name:e.name,categoryName:c,height:t.trackHeight,order:10*l+1},e.coverage.includes("spliceai")&&(s.color=function(e){return e<.5?"rgb(180,180,180)":e<.8?"rgb(180,180,0)":"rgb(200,0,0)"})),s&&o?(console.log("Adding ".concat(e.junctions," & ").concat(e.coverage," track #"),10*l+2),r.push({type:"merged",name:e.name,categoryName:c,height:t.trackHeight,tracks:[s,o],order:10*l+2})):o?(console.log("Adding ".concat(e.junctions," track #"),10*l),r.push({type:"merged",name:e.name,categoryName:c,height:t.trackHeight,tracks:[o],order:10*l+3})):s&&(console.log("Adding ".concat(e.coverage," track #"),10*l+1),r.push(s)),n.showVcfs&&e.vcf&&(console.log("Adding ".concat(e.vcf," track #"),10*l+4),r.push({type:"variant",format:"vcf",url:e.vcf,indexUrl:"".concat(e.vcf,".tbi"),indexed:!0,name:"".concat(e.name," vcf"),categoryName:c,displayMode:n.displayMode,oauthToken:oe,order:10*l+4})),a.showBams&&e.bam&&(console.log("Adding ".concat(e.bam," track #"),10*l+5),r.push({type:"alignment",url:e.bam,indexed:!0,name:"".concat(e.name," bam"),categoryName:c,height:a.trackHeight,colorBy:a.colorBy,viewAsPairs:a.viewAsPairs,showSoftClips:a.showSoftClips,oauthToken:oe,order:10*l+5}))}))})),r.push({name:"Gencode v32 Genes",format:"refgene",url:"gs://macarthurlab-rnaseq/reference_tracks/gencode_v32_knownGene.sorted.txt.gz",indexUrl:"gs://macarthurlab-rnaseq/reference_tracks/gencode_v32_knownGene.sorted.txt.gz.tbi",indexed:!0,searchable:!0,height:350,visibilityWindow:-1,displayMode:"EXPANDED",order:1000001,color:"rgb(76,171,225)",oauthToken:oe}),r}));function je(){var e=Object(s.a)(["\n"]);return je=function(){return e},e}function Te(){var e=Object(s.a)(["\n  label {\n    margin: 10px 0px 10px 20px;\n    padding-left: 1.4em !important;\n  }\n"]);return Te=function(){return e},e}function we(){var e=Object(s.a)(["\n  font-family: monospace;\n  background-color: #F7F7F7;\n"]);return we=function(){return e},e}function ke(){var e=Object(s.a)(["\n  font-family: monospace;\n  margin: 20px 30px;\n  padding: 10px;\n  background-color: #F7F7F7;\n  white-space: nowrap;\n"]);return ke=function(){return e},e}function xe(){var e=Object(s.a)(["\n  cursor: pointer;\n  padding: 10px 10px 10px 0px;\n  display: inline-block;\n"]);return xe=function(){return e},e}var Ae=i.a.a(xe()),Ce=i.a.div(ke()),Ne=i.a.span(we()),Le=Object(i.a)(Y.a)(Te()),Ie=Object(i.a)(b.a).attrs({position:"bottom center"})(je()),Re=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(g.a)(t).call(this,e))).getInitialState=function(){var e=n.props.samples,t=e&&e.length>0?"yaml":"basic";return{format:t,textAreaValue:n.convertSamplesToTextAreaValue(e||[],t),warningMessage:null,errorMessage:null}},n.parseTextAreaValueToSamples=function(e,t){if(!e.trim())return{samples:[],errorMessage:null};var n=[],a=null,r=[];if("basic"===t){var l=e.split(/[,\s]+/).filter(Boolean).reduce((function(e,t){var n=t.split("/"),a=n[n.length-1],l=Object.keys(ee).filter((function(e){return a.endsWith(e)}));if(0===l.length)r.push(t);else{var c=l[0],o=a.replace(c,"");e[o]||(e[o]={}),e[o].name=o,e[o][ee[c]]=t}return e}),{});n=Object.values(l)}else if("yaml"===t||"json"===t)try{n=Z.a.safeLoad(e)}catch(c){a="Unable to parse YAML: ".concat(c)}else if("json"===t)try{n=JSON.parse(e)}catch(c){a="Unable to parse JSON: ".concat(c)}return r.length>0&&(a="These paths have unexpected file suffixes: ".concat(r.join(", "))),{samples:n,errorMessage:a}},n.convertSamplesToTextAreaValue=function(e,t){return e&&0!==e.length?("basic"===t?n=e.map((function(e){return Object.keys(e).filter((function(e){return"name"!==e&&"description"!==e})).map((function(t){return e[t]}))})).flat().join("\n"):"yaml"===t?n=Z.a.safeDump(e,{flowLevel:2}):"json"===t&&(n=JSON.stringify(e,null,2)),n):"";var n},n.formatRadioButtonChangeHandler=function(e,t){var a=n.state,r=a.textAreaValue,l=a.format,c=n.parseTextAreaValueToSamples(r,l),o=c.samples,s=c.errorMessage;return s?(e.preventDefault(),n.setState({errorMessage:s}),!1):(n.setState({errorMessage:""}),t.checked&&n.setState({format:t.label,textAreaValue:n.convertSamplesToTextAreaValue(o,t.label)}),!0)},n.getInitialSamplesInCategory=function(){var e=n.props,t=e.categoryName,a=e.showResetButton,r=e.initialSamplesInCategories;if(a&&r){var l=r.filter((function(e){return e.categoryName===t}));if(l.length>0)return l[0].samples}return[]},n.resetButtonClickHandler=function(){var e=n.state.format,t=n.getInitialSamplesInCategory(),a=n.convertSamplesToTextAreaValue(t,e);n.setState({textAreaValue:a})},n.handleModalSave=function(){var e=n.props.setSamples,t=n.state,a=t.textAreaValue,r=t.format,l=n.parseTextAreaValueToSamples(a,r),c=l.samples,o=l.errorMessage;return o?(n.setState({errorMessage:o}),!1):(e(c),!0)},n.handleModalClose=function(){return n.setState(n.getInitialState()),!0},n.render=function(){var e,t=n.props,a=t.samples,l=t.title,c=t.showResetButton,o=t.trigger,s=n.state,i=s.format,u=s.textAreaValue,m=s.warningMessage,p=s.errorMessage,d="".concat(l," Paths");c&&(e=n.getInitialSamplesInCategory());var g=a.some((function(e){return e.description||Object.keys(e).filter((function(e){return"name"!==e&&"description"!==e})).length>1}));return r.a.createElement(P,{title:d,size:"large",modalName:d,trigger:o,handleSave:n.handleModalSave,handleClose:n.handleModalClose},r.a.createElement("div",null,"Enter google bucket path(s) for ",r.a.createElement("i",null,".bigWig"),", ",r.a.createElement("i",null,".junctions.bed.gz"),", ",r.a.createElement("i",null,".bam/.cram"),", or ",r.a.createElement("i",null,".vcf.gz")," files:",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("b",null,"Format:"),r.a.createElement(Le,{name:"format",label:"basic",disabled:g,checked:"basic"===i,onChange:n.formatRadioButtonChangeHandler}),r.a.createElement(Ie,{trigger:r.a.createElement(E.a,{style:{marginLeft:"8px"},name:"question circle outline"}),content:r.a.createElement("div",null,g&&r.a.createElement("div",null,r.a.createElement("b",null,"[Disabled]")," because some samples have multiple data files and/or a description.",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("b",null,"Basic format"),":",r.a.createElement("br",null),r.a.createElement("br",null),"Enter a list of paths separated by commas, spaces or new lines. ",r.a.createElement("br",null),r.a.createElement("br",null),"Example:",r.a.createElement("br",null),r.a.createElement(Ce,null,"gs://your-bucket/dir/sample-name1.bigWig ",r.a.createElement("br",null),"gs://your-bucket/dir/sample2.bigWig ",r.a.createElement("br",null),"gs://your-bucket/dir/sample-name1.junctions.bed.gz ",r.a.createElement("br",null),"gs://your-bucket/dir/sample-name1.bam ",r.a.createElement("br",null),"gs://your-bucket/dir/sample2.junctions.bed.gz ",r.a.createElement("br",null)),"Paths that have the same prefix (like ",r.a.createElement(Ne,null,"gs://your-bucket/dir/sample-name1")," in the example) will be interpreted as different data types from the same sample.",r.a.createElement("br",null),r.a.createElement("br",null),"The order of paths doesn't matter.")}),r.a.createElement(Le,{name:"format",label:"yaml",checked:"yaml"===i,onChange:n.formatRadioButtonChangeHandler}),r.a.createElement(Ie,{trigger:r.a.createElement(E.a,{style:{marginLeft:"8px"},name:"question circle outline"}),content:r.a.createElement("div",null,r.a.createElement("b",null,"YAML format"),":",r.a.createElement("br",null),r.a.createElement("br",null),"Provides per-sample file paths just like the Basic format, but allows additional meta-data to be specified - such as sample descriptions - as well as more flexibility in file names.",r.a.createElement("br",null),r.a.createElement(Ce,null,"- name: sample1 ",r.a.createElement("br",null),"\xa0 description: description of sample1 ",r.a.createElement("br",null),"\xa0 coverage: gs://your-bucket/dir/sample-name1.bigWig ",r.a.createElement("br",null),"\xa0 junctions: gs://your-bucket/dir2/sample-name1.junctions.bed.gz ",r.a.createElement("br",null),"\xa0 bam: gs://your-bucket/dir3/sample-name1.bam ",r.a.createElement("br",null),"\xa0 vcf: gs://your-bucket/dir3/sample-name1-wgs-variants.vcf.gz ",r.a.createElement("br",null),"- name: sample2 ",r.a.createElement("br",null),"\xa0 coverage: gs://your-bucket/dir/sample2.bigWig ",r.a.createElement("br",null),"\xa0 junctions: gs://your-bucket/dir2/sample2.junctions.bed.gz ",r.a.createElement("br",null)))}),r.a.createElement(Le,{name:"format",label:"json",checked:"json"===i,onChange:n.formatRadioButtonChangeHandler}),r.a.createElement(Ie,{trigger:r.a.createElement(E.a,{style:{marginLeft:"8px"},name:"question circle outline"}),content:r.a.createElement("div",null,r.a.createElement("b",null,"JSON format"),":",r.a.createElement("br",null),r.a.createElement("br",null),"Identical to YAML, but represented in the JSON format.",r.a.createElement("br",null),r.a.createElement(Ce,null,"[{",r.a.createElement("br",null),' "name": "sample1",',r.a.createElement("br",null),' "coverage": "gs://your-bucket/dir/sample-name1.bigWig", ',r.a.createElement("br",null),' "junctions": "gs://your-bucket/dir2/sample-name1.junctions.bed.gz", ',r.a.createElement("br",null),' "bam": "gs://your-bucket/dir3/sample-name1.bam", ',r.a.createElement("br",null),' "vcf": "gs://your-bucket/dir3/sample-name1-wgs-variants.vcf.gz" ',r.a.createElement("br",null),"}, {",r.a.createElement("br",null),' "name": "sample2", ',r.a.createElement("br",null),' "coverage": "gs://your-bucket/dir/sample2.bigWig", ',r.a.createElement("br",null),' "junctions": "gs://your-bucket/dir2/sample2.junctions.bed.gz" ',r.a.createElement("br",null),"}]",r.a.createElement("br",null)))}),c&&r.a.createElement(Ae,{style:{float:"right"},onClick:n.resetButtonClickHandler},"Reset ",e&&e.length>0?"To ".concat(e.length," Original Samples"):null))),r.a.createElement(v.a,null,r.a.createElement(y.a,{style:{minHeight:"300px"},value:u,onChange:function(e){n.setState({textAreaValue:e.target.value})},placeholder:"Enter file path(s)"})),r.a.createElement("br",null),r.a.createElement("b",null,r.a.createElement("i",null,"NOTE:"))," These paths will be saved across page refreshes in this browser, but will not be recorded in the page url like other settings. Sharing or bookmarking this page won't include these paths.",m&&r.a.createElement(Q.a,{color:"yellow"},m),p&&r.a.createElement(Q.a,{color:"red"},p))},n.state=n.getInitialState(),n}return Object(f.a)(t,e),t}(r.a.PureComponent),Be=Object(o.b)((function(e){return{initialSamplesInCategories:Ee(e).samplesInCategories}}),(function(e){return{updateSamples:function(t,n,a){e({type:"".concat(t,"_SAMPLES"),categoryName:n,samples:a})}}}))((function(e){var t=e.category,n=e.initialSamplesInCategories,a=e.updateSamples;return r.a.createElement("div",null,r.a.createElement(Re,{key:"".concat(JSON.stringify(t.samples),"_add"),title:"Add ".concat(t.categoryName),categoryName:t.categoryName,samples:[],setSamples:function(e){return a("ADD",t.categoryName,e)},initialSamplesInCategories:n,trigger:r.a.createElement(Ae,null,"Add ",0===t.samples.length?t.categoryName:null," Paths")}),t.samples.length>0&&r.a.createElement(Re,{key:"".concat(JSON.stringify(t.samples),"_edit"),title:"Edit ".concat(t.categoryName),categoryName:t.categoryName,samples:t.samples,setSamples:function(e){return a("SET",t.categoryName,e)},initialSamplesInCategories:n,trigger:r.a.createElement(Ae,null,"Edit Paths"),showResetButton:!0}))}));function Ue(){var e=Object(s.a)(["\n  white-space: nowrap;\n"]);return Ue=function(){return e},e}function Me(){var e=Object(s.a)(["\n  padding-left: 5px;\n  white-space: nowrap;\n"]);return Me=function(){return e},e}function Ge(){var e=Object(s.a)(["\n  cursor: pointer;\n  padding: 10px 10px 10px 0px;\n  display: inline-block;\n"]);return Ge=function(){return e},e}function Pe(){var e=Object(s.a)(["\n   color: #E6A01B;\n   border: 3px solid #E6A01B;\n"]);return Pe=function(){return e},e}function De(){var e=Object(s.a)(["\n   color: #5CB6EA;\n   border: 3px solid #5CB6EA;\n"]);return De=function(){return e},e}function Ve(){var e=Object(s.a)(["\n   color: #B5D29A;\n   border: 3px solid #B5D29A;\n"]);return Ve=function(){return e},e}function qe(){var e=Object(s.a)(["\n   color: #B0B0EC;\n   border: 3px solid #B0B0EC;\n"]);return qe=function(){return e},e}function Je(){var e=Object(s.a)(["\n  display: inline-block;\n  width: 6px;\n  border-radius: 1px;\n  height: 10px;\n  cursor: pointer;\n"]);return Je=function(){return e},e}function ze(){var e=Object(s.a)(["\n  display: inline-block;\n  margin: 0px 0px 0px 15px;\n  color: #999;\n  white-space: nowrap;\n"]);return ze=function(){return e},e}var He=i.a.div(ze()),Fe=i.a.div.attrs({name:"stop"})(Je()),We=Object(i.a)(Fe)(qe()),Xe=Object(i.a)(Fe)(Ve()),Ke=Object(i.a)(Fe)(De()),Ye=Object(i.a)(Fe)(Pe()),Qe=i.a.a(Ge()),$e=i.a.span(Me()),Ze=i.a.div(Ue()),et=function(e){var t=e.sample;return r.a.createElement(b.a,{content:r.a.createElement("table",null,r.a.createElement("tbody",null,t.junctions&&r.a.createElement("tr",null,r.a.createElement("td",{style:{paddingRight:"10px"}},r.a.createElement("b",null,"Junctions:")),r.a.createElement("td",null,r.a.createElement(Ze,null,t.junctions))),t.coverage&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Coverage:")),r.a.createElement("td",null,r.a.createElement(Ze,null,t.coverage))),t.bam&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Bam:")),r.a.createElement("td",null,r.a.createElement(Ze,null,t.bam))),t.vcf&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Vcf:")),r.a.createElement("td",null,r.a.createElement(Ze,null,t.vcf))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},r.a.createElement("div",{style:{fontSize:"small",color:"grey",marginTop:"10px"}},"(click to copy paths)"))))),position:"right center",trigger:r.a.createElement($e,{onClick:function(){var e="";t.coverage&&(e+="".concat(t.coverage,"\n")),t.junctions&&(e+="".concat(t.junctions,"\n")),t.vcf&&(e+="".concat(t.vcf,"\n")),t.bam&&(e+="".concat(t.bam,"\n")),navigator.clipboard.writeText(e)}},t.junctions&&r.a.createElement(We,null),t.coverage&&r.a.createElement(Xe,null),t.bam&&r.a.createElement(Ke,null),t.vcf&&r.a.createElement(Ye,null)),style:{marginLeft:"2px"}})},tt=function(e){var t=e.category,n=e.updateSelectedSampleNames;return r.a.createElement("div",null,r.a.createElement(W,null,t.categoryName.toUpperCase()),t.samples.length>=12&&r.a.createElement(He,null,"(N=".concat(t.samples.length,") ")),t.samples.length>0&&r.a.createElement("div",null,r.a.createElement(Qe,{onClick:function(e){e.preventDefault(),n("SET",t.categoryName,[])}},"Uncheck All")))},nt=function(e){var t=e.samplesInCategories,n=e.selectedSampleNamesByCategoryName,a=e.updateSelectedSampleNames;return t.map((function(e,t){return r.a.createElement("div",{key:e.categoryName||t},r.a.createElement(tt,{category:e,updateSelectedSampleNames:a}),e.samples.map((function(t,l){var c=n[e.categoryName]||[];return r.a.createElement(at,{key:t.name||l,sample:t,categoryName:e.categoryName,selectedSampleNames:c,updateSelectedSampleNames:a})})),r.a.createElement(Be,{category:e}))}))},at=function(e){var t=e.sample,n=e.categoryName,a=e.selectedSampleNames,l=e.updateSelectedSampleNames;return r.a.createElement(Ze,null,r.a.createElement(h.a,{label:t.name,checked:a.includes(t.name),"data-sample":t.name,onChange:function(e,t){return l(t.checked?"ADD":"REMOVE",n,[t["data-sample"]])}}),r.a.createElement(rt,{sample:t}),r.a.createElement(et,{sample:t}))},rt=function(e){var t=e.sample;return t.description?r.a.createElement(K,{inverted:!0,content:t.description,position:"right center",trigger:r.a.createElement(E.a,{style:{marginLeft:"10px"},name:"question circle outline"})}):null},lt=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.locusList,n=e.samplesInCategories,a=e.selectedSampleNamesByCategoryName,l=e.sjOptions,c=e.vcfOptions,o=e.bamOptions,s=e.setLocus,i=e.setLocusList,u=e.updateSelectedSampleNames,m=e.updateSjOptions,p=e.updateVcfOptions,d=e.updateBamOptions;return r.a.createElement("div",null,r.a.createElement(J,{name:"Left Side Bar",locusList:t,setLocus:s,setLocusList:i}),r.a.createElement(W,null,"TRACK TYPES TO SHOW PER SAMPLE"),r.a.createElement(X,null,r.a.createElement(h.a,{label:"RNA splice junctions",checked:l.showJunctions,onChange:function(e,t){return m({showJunctions:t.checked})}}),r.a.createElement($e,null,r.a.createElement(b.a,{content:"This color stripe marks samples that have splice junction data. Select this checkbox to show a splice junction track for each sample selected below.",position:"right center",trigger:r.a.createElement(We,null)}))),r.a.createElement(X,null,r.a.createElement(h.a,{label:"RNA coverage",checked:l.showCoverage,onChange:function(e,t){return m({showCoverage:t.checked})}}),r.a.createElement($e,null,r.a.createElement(b.a,{content:"This color stripe marks samples that have coverage data. Select this checkbox to show a coverage track for each sample selected below.",position:"right center",trigger:r.a.createElement(Xe,null)}))),r.a.createElement(X,null,r.a.createElement(h.a,{label:"BAM track",checked:o.showBams,onChange:function(e,t){return d({showBams:t.checked})}}),r.a.createElement($e,null,r.a.createElement(b.a,{content:"This color stripe marks samples that have alignment data. Select this checkbox to show a bam track for each sample selected below.",position:"right center",trigger:r.a.createElement(Ke,null)}))),r.a.createElement(X,null,r.a.createElement(h.a,{label:"VCF track",checked:c.showVcfs,onChange:function(e,t){return p({showVcfs:t.checked})}}),r.a.createElement($e,null,r.a.createElement(b.a,{content:"This color stripe marks samples that have splice junction data. Select this checkbox to show a vcf track for each sample selected below.",position:"right center",trigger:r.a.createElement(Ye,null)}))),r.a.createElement(nt,{samplesInCategories:n,selectedSampleNamesByCategoryName:a,updateSelectedSampleNames:u}))}}]),t}(r.a.PureComponent),ct=Object(o.b)((function(e){return{locusList:ue(e),samplesInCategories:pe(e),selectedSampleNamesByCategoryName:de(e),sjOptions:ge(e),vcfOptions:fe(e),bamOptions:be(e)}}),(function(e){return{setLocus:function(t){e({type:"UPDATE_LOCUS",newValue:t})},setLocusList:function(t){e({type:"SET_LEFT_SIDE_BAR_LOCUS_LIST",values:t})},updateSelectedSampleNames:function(t,n,a){e({type:"".concat(t,"_SELECTED_SAMPLE_NAMES"),categoryName:n,selectedSampleNames:a})},updateSjOptions:function(t){e({type:"UPDATE_SJ_OPTIONS",updates:t})},updateVcfOptions:function(t){e({type:"UPDATE_VCF_OPTIONS",updates:t})},updateBamOptions:function(t){e({type:"UPDATE_BAM_OPTIONS",updates:t})}}}))(lt);function ot(){var e=Object(s.a)(["\n  label {\n    margin-left: 10px;\n    margin-bottom: 10px;\n    padding-left: 1.4em !important;\n  }\n"]);return ot=function(){return e},e}function st(){var e=Object(s.a)(["\n  margin-top: 5px !important;\n"]);return st=function(){return e},e}function it(){var e=Object(s.a)(["\n  display: inline;\n  width: 50px;\n  margin-left: 5px;\n  padding-left: 5px;\n"]);return it=function(){return e},e}var ut=i.a.input(it()),mt=Object(i.a)(E.a)(st()),pt=Object(i.a)(Y.a)(ot()),dt=function(e){var t=e.sjOptions,n=e.handleTextInput;return"strand"===t.colorBy?r.a.createElement("div",null,r.a.createElement(mt,{name:"stop",style:{color:"#b0b0ec"}})," plus",r.a.createElement(mt,{name:"stop",style:{color:"#ecb0b0",marginLeft:"10px"}})," minus"):"motif"===t.colorBy?r.a.createElement("div",null,r.a.createElement(mt,{name:"stop",style:{color:"rgb(27,158,119)"}})," GT/AG ",r.a.createElement("br",null),r.a.createElement(mt,{name:"stop",style:{color:"rgb(217,95,2)"}})," CT/AC ",r.a.createElement("br",null),r.a.createElement(mt,{name:"stop",style:{color:"rgb(117,112,179)"}})," GC/AG ",r.a.createElement("br",null),r.a.createElement(mt,{name:"stop",style:{color:"rgb(231,41,138)"}})," CT/GC ",r.a.createElement("br",null),r.a.createElement(mt,{name:"stop",style:{color:"rgb(102,166,30)"}})," AT/AC ",r.a.createElement("br",null),r.a.createElement(mt,{name:"stop",style:{color:"rgb(230,171,2)"}})," GT/AT ",r.a.createElement("br",null),r.a.createElement(mt,{name:"stop",style:{color:"rgb(166,118,29)"}})," non-canonical ",r.a.createElement("br",null)):"numUniqueReads"===t.colorBy||"numReads"===t.colorBy?r.a.createElement("div",null,"# reads",r.a.createElement(mt,{name:"stop",style:{color:"#AAAAAA",marginLeft:"10px"}}),"\xa0\u2264 \xa0",r.a.createElement(ut,{type:"text",key:"num-reads-".concat(t.colorByNumReadsThreshold),defaultValue:void 0!==t.colorByNumReadsThreshold?t.colorByNumReadsThreshold:5,onKeyUp:function(e){return n(e,"colorByNumReadsThreshold")},style:{width:"35px"}}),"\xa0 < \xa0",r.a.createElement(mt,{name:"stop",style:{color:"blue"}})):"isAnnotatedJunction"===t.colorBy?r.a.createElement("div",null,r.a.createElement(mt,{name:"stop",style:{color:"#b0b0ec"}})," known junction ",r.a.createElement("br",null),r.a.createElement(mt,{name:"stop",style:{color:"orange"}})," novel junction"):r.a.createElement("div",null)},gt=function(e){var t=e.sjOptions,n=e.updateSjOptions,a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;13===e.keyCode&&n(Object(_.a)({},t,a||e.target.value))};return r.a.createElement("div",null,r.a.createElement(W,null,"JUNCTION TRACK ",r.a.createElement("br",null),"OPTIONS"),r.a.createElement("br",null),r.a.createElement(X,null,"Track height: ",r.a.createElement(ut,{key:"track-height-".concat(t.trackHeight),type:"text",defaultValue:t.trackHeight,onKeyUp:function(e){return a(e,"trackHeight",parseInt(e.target.value,10))}})," px"),r.a.createElement(X,null,"Color by:"),r.a.createElement(X,null,r.a.createElement("select",{value:t.colorBy,onChange:function(e){return n({colorBy:e.target.value})}},r.a.createElement("option",{value:"strand"},"strand"),r.a.createElement("option",{value:"motif"},"donor/acceptor motif"),r.a.createElement("option",{value:"numUniqueReads"},"# uniquely-mapped reads"),r.a.createElement("option",{value:"numReads"},"# total reads"),r.a.createElement("option",{value:"isAnnotatedJunction"},"is known junction")),r.a.createElement(dt,{sjOptions:t,handleTextInput:a})),r.a.createElement(X,null,"Junction thickness:"),r.a.createElement(X,null,r.a.createElement("select",{value:t.thicknessBasedOn,onChange:function(e){return n({thicknessBasedOn:e.target.value})}},r.a.createElement("option",{value:"numUniqueReads"},"# uniquely-mapped reads"),r.a.createElement("option",{value:"numReads"},"# total reads"),r.a.createElement("option",{value:"isAnnotatedJunction"},"is known junction"))),r.a.createElement(X,null,"Junction bounce height:"),r.a.createElement(X,null,r.a.createElement("select",{value:t.bounceHeightBasedOn,onChange:function(e){return n({bounceHeightBasedOn:e.target.value})}},r.a.createElement("option",{value:"random"},"random"),r.a.createElement("option",{value:"distance"},"distance"),r.a.createElement("option",{value:"thickness"},"thickness"))),r.a.createElement(X,null,"Junction label:"),r.a.createElement(X,null,r.a.createElement(h.a,{label:"# uniquely-mapped",checked:t.labelUniqueReadCount,onChange:function(e,t){return n({labelUniqueReadCount:t.checked})}})),r.a.createElement(X,null,r.a.createElement(h.a,{label:"# multi-mapped",checked:t.labelMultiMappedReadCount,onChange:function(e,t){return n({labelMultiMappedReadCount:t.checked})}})),r.a.createElement(X,null,r.a.createElement(h.a,{label:"# total reads",checked:t.labelTotalReadCount,onChange:function(e,t){return n({labelTotalReadCount:t.checked})}})),r.a.createElement(X,null,r.a.createElement(h.a,{label:"donor/acceptor motif",checked:t.labelMotif,onChange:function(e,t){return n({labelMotif:t.checked})}})),r.a.createElement(X,null,r.a.createElement(h.a,{label:"known junction:",checked:t.labelAnnotatedJunction,onChange:function(e,t){return n({labelAnnotatedJunction:t.checked})}}),r.a.createElement(ut,{key:"junction-label-".concat(t.labelAnnotatedJunctionValue),type:"text",defaultValue:t.labelAnnotatedJunctionValue,onKeyUp:function(e){return a(e,"labelAnnotatedJunctionValue")},style:{width:"35px"}})),r.a.createElement(W,null,"JUNCTION TRACK FILTERS"),r.a.createElement("br",null),r.a.createElement(X,null,"Show Strands:",r.a.createElement(pt,{label:"both",name:"strandButton",checked:!t.showOnlyPlusStrand&&!t.showOnlyMinusStrand,onChange:function(e,t){return t.checked&&n({showOnlyPlusStrand:!1,showOnlyMinusStrand:!1})}}),r.a.createElement(pt,{label:"plus",name:"strandButton",checked:t.showOnlyPlusStrand,onChange:function(e,t){return t.checked&&n({showOnlyPlusStrand:!0,showOnlyMinusStrand:!1})}}),r.a.createElement(pt,{label:"minus",name:"strandButton",checked:t.showOnlyMinusStrand,onChange:function(e,t){return t.checked&&n({showOnlyPlusStrand:!1,showOnlyMinusStrand:!0})}})),r.a.createElement(X,null,r.a.createElement(h.a,{label:"Show known junctions",checked:!t.hideAnnotated,onChange:function(e,t){return n({hideAnnotated:!t.checked})}})),r.a.createElement(X,null,r.a.createElement(h.a,{label:"Show novel junctions",checked:!t.hideUnannotated,onChange:function(e,t){return n({hideUnannotated:!t.checked})}})),r.a.createElement("div",null,r.a.createElement(X,null,"Uniquely-mapped reads:"),"at least ",r.a.createElement(ut,{key:"uniquely-mapped-reads-".concat(t.minUniquelyMappedReads),type:"text",defaultValue:t.minUniquelyMappedReads,onKeyUp:function(e){return a(e,"minUniquelyMappedReads",parseInt(e.target.value,10))}})),r.a.createElement("div",null,r.a.createElement(X,null,"Total reads:"),"at least ",r.a.createElement(ut,{key:"total-reads-".concat(t.minTotalReads),type:"text",defaultValue:t.minTotalReads,onKeyUp:function(e){return a(e,"minTotalReads",parseInt(e.target.value,10))}})),r.a.createElement("div",null,r.a.createElement(X,null,"Fraction multi-mapped:",r.a.createElement(K,{inverted:!0,content:"Allows filtering of junctions where most reads that span the junction are multi-mapped reads. For example, setting this to 0.79 will hide junctions where 8 out of 10 (or more) reads that span the junction are not uniquely mapped reads.",position:"left center",on:"click",trigger:r.a.createElement(E.a,{style:{marginLeft:"8px"},name:"question circle outline"})})),"at most ",r.a.createElement(ut,{key:"fraction-multi-mapped-".concat(t.maxFractionMultiMappedReads),type:"text",defaultValue:t.maxFractionMultiMappedReads,onKeyUp:function(e){return a(e,"maxFractionMultiMappedReads",parseInt(e.target.value,10))}})),r.a.createElement("div",null,r.a.createElement(X,null,"Splice overhang base-pairs:"),"at least ",r.a.createElement(ut,{key:"spliced-alignment-overhang-".concat(t.minSplicedAlignmentOverhang),type:"text",defaultValue:t.minSplicedAlignmentOverhang,onKeyUp:function(e){return a(e,"minSplicedAlignmentOverhang",parseInt(e.target.value,10))}})),r.a.createElement("div",null,r.a.createElement(X,null,"Donor/Acceptor Motifs:"),te.map((function(e){return r.a.createElement(X,{key:e},r.a.createElement(h.a,{label:"Show ".concat(e),checked:!t["hideMotif".concat(e)],onChange:function(t,a){return n(Object(_.a)({},"hideMotif".concat(e),!a.checked))}}))}))))},ft=function(e){var t=e.bamOptions,n=e.updateBamOptions;return r.a.createElement("div",null,r.a.createElement(W,null,"BAM TRACK ",r.a.createElement("br",null),"OPTIONS"),r.a.createElement("br",null),r.a.createElement(X,null,"Track height: ",r.a.createElement(ut,{key:"track-height-".concat(t.trackHeight),type:"text",defaultValue:t.trackHeight,onKeyUp:function(e){return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;13===e.keyCode&&n(Object(_.a)({},t,a||e.target.value))}(e,"trackHeight",parseInt(e.target.value,10))}})," px"),r.a.createElement(X,null,r.a.createElement(h.a,{label:"View as pairs",checked:t.viewAsPairs,onChange:function(e,t){return n({viewAsPairs:t.checked})}})),r.a.createElement(X,null,r.a.createElement(h.a,{label:"Show soft-clips",checked:t.showSoftClips,onChange:function(e,t){return n({showSoftClips:t.checked})}})),r.a.createElement(X,null,"Color by:"),r.a.createElement(X,null,r.a.createElement("select",{value:t.colorBy,onChange:function(e){return n({colorBy:e.target.value})}},r.a.createElement("option",{value:"strand"},"Strand"),r.a.createElement("option",{value:"firstOfPairStrand"},"First-of-pair strand"),r.a.createElement("option",{value:"pairOrientation"},"Pair orientation"),r.a.createElement("option",{value:"fragmentLength"},"Insert size (TLEN)"),r.a.createElement("option",{value:"none"},"None"))))},bt=function(e){var t=e.vcfOptions,n=e.updateVcfOptions;return r.a.createElement("div",null,r.a.createElement(W,null,"VCF TRACK ",r.a.createElement("br",null),"OPTIONS"),r.a.createElement("br",null),r.a.createElement(X,null,"Display mode: \xa0",r.a.createElement("select",{value:t.displayMode,onChange:function(e){return n({displayMode:e.target.value})}},r.a.createElement("option",{value:"COLLAPSED"},"Collapse"),r.a.createElement("option",{value:"SQUISHED"},"Squish"),r.a.createElement("option",{value:"EXPANDED"},"Expand"))))},ht=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.locusList,n=e.sjOptions,a=e.vcfOptions,l=e.bamOptions,c=e.updateSjOptions,o=e.updateVcfOptions,s=e.updateBamOptions,i=e.setLocus,u=e.setLocusList;return r.a.createElement("div",null,r.a.createElement(J,{name:"Right Side Bar",locusList:t,setLocus:i,setLocusList:u}),l.showBams&&r.a.createElement(ft,{bamOptions:l,updateBamOptions:s}),a.showVcfs&&r.a.createElement(bt,{vcfOptions:a,updateVcfOptions:o}),(n.showCoverage||n.showJunctions)&&r.a.createElement(gt,{sjOptions:n,updateSjOptions:c}))}}]),t}(r.a.PureComponent),Et=Object(o.b)((function(e){return{locusList:ie(e),sjOptions:ge(e),vcfOptions:fe(e),bamOptions:be(e)}}),(function(e){return{setLocus:function(t){e({type:"UPDATE_LOCUS",newValue:t})},setLocusList:function(t){e({type:"SET_RIGHT_SIDE_BAR_LOCUS_LIST",values:t})},updateSjOptions:function(t){e({type:"UPDATE_SJ_OPTIONS",updates:t})},updateBamOptions:function(t){e({type:"UPDATE_BAM_OPTIONS",updates:t})},updateVcfOptions:function(t){e({type:"UPDATE_VCF_OPTIONS",updates:t})}}}))(ht);function vt(){var e=Object(s.a)(["\n  cursor: pointer;\n  margin-left: 20px;\n"]);return vt=function(){return e},e}var yt=i.a.a(vt()),Ot=function(){return r.a.createElement(P,{title:"About RNA-Seq Viewer",size:"large",modalName:"AboutModal",trigger:r.a.createElement(yt,null,"About")},"This is a free, open-source web app for visualizing splice junctions, expression, and other sequencing data genome-wide using ",r.a.createElement("a",{href:"https://github.com/igvteam/igv.js",target:"_blank"},"IGV.js"),r.a.createElement("br",null),r.a.createElement("br",null),"Main features: ",r.a.createElement("br",null),r.a.createElement("ul",null,r.a.createElement("li",null,"Supports these file formats: .bigWig, .junctions.bed.gz, .vcf, .bam, .cram."),r.a.createElement("li",null,"Includes reference tracks from GTEx v8 muscle, blood, and fibroblast samples."),r.a.createElement("li",null,"Lets you display data files or reference tracks from any Google bucket to which you have read-access."),r.a.createElement("li",null,"Retrieves just the on-screen sections of the files directly from Google buckets."),r.a.createElement("li",null,"Allows gene or locus lists to be added to side bars for quick navigation across a list of regions.")),r.a.createElement("a",{href:"https://github.com/macarthur-lab/rnaseq-viewer/issues",target:"_blank"},"Issues"),"\xa0or ",r.a.createElement("a",{href:"https://github.com/macarthur-lab/rnaseq-viewer/issues",target:"_blank"},"Feature Requests"),"\xa0can be submitted via ",r.a.createElement("a",{href:"https://github.com/macarthur-lab/rnaseq-viewer",target:"_blank"},"GitHub"),".")},St=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.user;return e.googleUserEmail?r.a.createElement("div",null,"Signed in to Google Buckets as ",r.a.createElement("b",null,e.googleUserEmail)):r.a.createElement("div",null,"Signing in to Google Buckets...")}}]),t}(r.a.PureComponent),_t=Object(o.b)((function(e){return{user:he(e)}}))(St);function jt(){var e=Object(s.a)(["\n  text-align: right;\n  padding-right: 75px !important;\n"]);return jt=function(){return e},e}function Tt(){var e=Object(s.a)(["\n  text-align: left;\n  padding-left: 75px !important;\n"]);return Tt=function(){return e},e}function wt(){var e=Object(s.a)(["\n  color: #444;\n  margin-bottom: 5px;\n"]);return wt=function(){return e},e}var kt=Object(i.a)(u.a.Row)(wt()),xt=Object(i.a)(u.a.Column).attrs({width:6})(Tt()),At=Object(i.a)(u.a.Column).attrs({width:10})(jt()),Ct=function(){return r.a.createElement(u.a,null,r.a.createElement(kt,null,r.a.createElement(xt,null,r.a.createElement("b",null,"RNA-seq Viewer:"),r.a.createElement(Ot,null)),r.a.createElement(At,null,r.a.createElement(_t,null))))},Nt=n(277),Lt=function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];n&&clearTimeout(n),n=setTimeout((function(){t.apply(void 0,r),n=null}),e)}};function It(){var e=Object(s.a)([""]);return It=function(){return e},e}var Rt={showIdeogram:!0,showNavigation:!0,showRuler:!0,showCenterGuide:!0,showCursorTrackingGuide:!0,showCommandBar:!0},Bt=i.a.div(It()),Ut=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(g.a)(t).call(this,e))).setContainerElement=function(e){n.container=e},n.render=function(){return r.a.createElement(Bt,null,r.a.createElement("div",{ref:n.setContainerElement}))},n.container=null,n.browser=null,n.ignoreNextTrackRemovedEvent=!1,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r,l,c,o,s,i=this;return re.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(this.container){u.next=2;break}return u.abrupt("return");case 2:return e=this.props,t=e.genome,n=e.locus,a=e.tracks,r=e.locusChangedHandler,l=e.trackRemovedHandler,c=e.userChangedHandler,o=Object(w.a)({},Rt,{locus:n,genome:t,tracks:a}),u.next=6,re.a.awrap(new Promise((function(e){"undefined"!==typeof gapi&&gapi.load("client:auth2",(function(){gapi.client.load("storage","v1",(function(){gapi.client.init({clientId:"61200892608-qphtf65o323setqdcfj4hnf601mmetvs.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/devstorage.read_only",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/storage/v1/rest"]}),e()}))}))})));case 6:return u.next=8,re.a.awrap(le());case 8:return u.next=10,re.a.awrap(ce());case 10:s=u.sent,c(s),console.log("Calling igv.createBrowser(..)",o),Nt.a.createBrowser(this.container,o).then((function(e){i.browser=e,r&&i.browser.on("locuschange",Lt(300,r)),l&&i.browser.on("trackremoved",(function(e){i.ignoreNextTrackRemovedEvent||l(e),i.ignoreNextTrackRemovedEvent=!1}))}));case 14:case"end":return u.stop()}}),null,this)}},{key:"shouldComponentUpdate",value:function(e){var t=this;if(!this.container)return!1;var n=this.props,a=n.tracks,r=n.sjOptions,l=n.vcfOptions,c=n.bamOptions,o=this.browser.$searchInput.val(),s=e.locus;!e.locus||o&&s.replace(/,/g,"")===o.replace(/,/g,"")||this.browser.search(s);var i=e.tracks.reduce((function(e,t){return Object(w.a)(Object(_.a)({},t.name,t),e)}),{});return a.forEach((function(n){var a=i[n.name];if(a)(e.sjOptions!==r&&["merged","wig","spliceJunctions"].includes(n.type)||e.vcfOptions!==l&&"variant"===n.type||e.bamOptions!==c&&"alignment"===n.type)&&(console.log("reloading track",n.name),t.ignoreNextTrackRemovedEvent=!0,t.browser.removeTrackByName(n.name),t.browser.loadTrack(a)),delete i[n.name];else try{t.ignoreNextTrackRemovedEvent=!0,console.log("removing track",n.name),t.browser.removeTrackByName(n.name)}catch(o){console.warn("Unable to remove track",n.name,o)}})),Object.values(i).forEach((function(e){try{console.log("loading track",e.name),t.browser.loadTrack(e)}catch(n){console.warn("Unable to add track",e.name,n)}})),!1}}]),t}(r.a.Component),Mt=Object(o.b)((function(e){return{genome:me(e),locus:se(e),tracks:_e(e),sjOptions:ge(e),vcfOptions:fe(e),bamOptions:be(e)}}),(function(e){return{locusChangedHandler:function(t){var n=t.label.replace(/,/g,"");e({type:"UPDATE_LOCUS",newValue:n})},userChangedHandler:function(t){e({type:"UPDATE_USER",updates:{googleUserEmail:t}})},trackRemovedHandler:function(t){console.log("removing track",t.config.categoryName,t.config.name),e({type:"REMOVE_SELECTED_SAMPLE_NAMES",categoryName:[t.config.categoryName],selectedSampleNames:[t.config.name]})}}}))(Ut),Gt=n(509),Pt=n(279),Dt=n.n(Pt),Vt=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){switch(this.props.status){case t.IN_PROGRESS:return r.a.createElement(E.a,{loading:!0,name:"spinner",style:{color:"#4183c4"}});case t.SUCCEEDED:return r.a.createElement(b.a,{trigger:r.a.createElement(E.a,{name:"check circle",style:{color:"#00C000"}}),content:this.props.successMessage||"Success",position:"top center",size:"small"});case t.ERROR:return r.a.createElement(b.a,{trigger:r.a.createElement(E.a,{name:"warning circle",style:{color:"#F00000"}}),content:this.props.errorMessage||"",position:"top center",size:"small"});default:return r.a.createElement(E.a,{name:"warning circle",style:{color:"rgb(0,0,0,0.0)"}})}}}]),t}(r.a.PureComponent);Vt.NONE="NONE",Vt.IN_PROGRESS="IN_PROGRESS",Vt.SUCCEEDED="SUCCEEDED",Vt.ERROR="ERROR";var qt=Vt,Jt=n(175),zt=n.n(Jt),Ht="gs://seqr-reference-data/GRCh38/rna-seq",Ft={genome:"hg38",locus:"chr15:92,835,700-93,031,800",leftSideBarLocusList:[],rightSideBarLocusList:[],samplesInCategories:[{categoryName:"Reference Data",samples:[{name:"GTEx 100 Muscle",description:"100 randomly-chosen GTEx v3 muscle samples combined by summing raw coverage values and raw splice-junction-spanning read counts across all 100 samples.",junctions:"".concat(Ht,"/GTEx_ref_data/muscle_100_GTEx_samples.junctions.bed.gz"),coverage:"".concat(Ht,"/GTEx_ref_data/muscle_100_GTEx_samples.bigWig")},{name:"GTEx 100 Blood",description:"100 randomly-chosen GTEx v3 blood samples combined by summing raw coverage values and raw splice-junction-spanning read counts across all 100 samples.",junctions:"".concat(Ht,"/GTEx_ref_data/blood_100_GTEx_samples.junctions.bed.gz"),coverage:"".concat(Ht,"/GTEx_ref_data/blood_100_GTEx_samples.bigWig")},{name:"GTEx 100 Fibs",description:"100 randomly-chosen GTEx v3 fibroblast samples combined by summing raw coverage values and raw splice-junction-spanning read counts across all 100 samples.",junctions:"".concat(Ht,"/GTEx_ref_data/fibs_100_GTEx_samples.junctions.bed.gz"),coverage:"".concat(Ht,"/GTEx_ref_data/fibs_100_GTEx_samples.bigWig")},{name:"GTEx All Muscle",description:"All 803 GTEx v3 muscle samples combined by summing raw coverage values and raw splice-junction-spanning read counts across all samples.",junctions:"".concat(Ht,"/GTEx_ref_data/GTEX_muscle.803_samples.junctions.bed.gz"),coverage:"".concat(Ht,"/GTEx_ref_data/GTEX_muscle.803_samples.bigWig")},{name:"GTEx All Blood",description:"All 755 GTEx v3 blood samples combined by summing raw coverage values and raw splice-junction-spanning read counts across all samples.",junctions:"".concat(Ht,"/GTEx_ref_data/GTEX_blood.755_samples.junctions.bed.gz"),coverage:"".concat(Ht,"/GTEx_ref_data/GTEX_blood.755_samples.bigWig")},{name:"GTEx All Fibs",description:"All 504 GTEx v3 fibroblast samples combined by summing raw coverage values and raw splice-junction-spanning read counts across all samples.",junctions:"".concat(Ht,"/GTEx_ref_data/GTEX_fibs.504_samples.junctions.bed.gz"),coverage:"".concat(Ht,"/GTEx_ref_data/GTEX_fibs.504_samples.bigWig")},{name:"GTEx All Muscle - Norm.",description:"All 803 GTEx v3 muscle samples combined by summing raw coverage values across all samples and also summing normalized splice-junction-spanning read counts across all samples. The normalization is done by computing the normalized read count for each junction as normalized_read_count = raw_read_count * scalar. Here scalar = average_unique_reads_per_muscle_sample / (total_unqiue_reads_in_this_sample * number_of_muscle_samples), and average_unique_reads_per_muscle_sample = (total_unqiue_reads_in_all_muscle_samples / number_of_muscle_samples)",junctions:"".concat(Ht,"/GTEx_ref_data/GTEX_muscle.803_samples.normalized.junctions.bed.gz"),coverage:"".concat(Ht,"/GTEx_ref_data/GTEX_muscle.803_samples.bigWig")},{name:"GTEx All Blood - Norm.",description:"All 755 GTEx v3 blood samples combined by summing raw coverage values across all samples and also summing normalized splice-junction-spanning read counts across all samples. The normalization is done by computing the normalized read count for each junction as normalized_read_count = raw_read_count * scalar. Here scalar = average_unique_reads_per_blood_sample / (total_unqiue_reads_in_this_sample * number_of_blood_samples), and average_unique_reads_per_blood_sample = (total_unqiue_reads_in_all_blood_samples / number_of_blood_samples)",junctions:"".concat(Ht,"/GTEx_ref_data/GTEX_blood.755_samples.normalized.junctions.bed.gz"),coverage:"".concat(Ht,"/GTEx_ref_data/GTEX_blood.755_samples.bigWig")},{name:"GTEx All Fibs - Norm.",description:"All 504 GTEx v3 fibroblast samples combined by summing raw coverage values across all samples and also summing normalized splice-junction-spanning read counts across all samples. The normalization is done by computing the normalized read count for each junction as normalized_read_count = raw_read_count * scalar. Here scalar = average_unique_reads_per_fibs_sample / (total_unqiue_reads_in_this_sample * number_of_fibs_samples), and average_unique_reads_per_fibs_sample = (total_unqiue_reads_in_all_fibs_samples / number_of_fibs_samples)",junctions:"".concat(Ht,"/GTEx_ref_data/GTEX_fibs.504_samples.normalized.junctions.bed.gz"),coverage:"".concat(Ht,"/GTEx_ref_data/GTEX_fibs.504_samples.bigWig")},{name:"splice AI scores - SNVs",coverage:"".concat(Ht,"/spliceai/spliceai_scores.raw.snv.hg38.all.bigWig")},{name:"splice AI scores - SNVs - alt allele A",coverage:"".concat(Ht,"/spliceai/spliceai_scores.raw.snv.hg38.alt-allele-A.bigWig")},{name:"splice AI scores - SNVs - alt allele C",coverage:"".concat(Ht,"/spliceai/spliceai_scores.raw.snv.hg38.alt-allele-C.bigWig")},{name:"splice AI scores - SNVs - alt allele G",coverage:"".concat(Ht,"/spliceai/spliceai_scores.raw.snv.hg38.alt-allele-G.bigWig")},{name:"splice AI scores - SNVs - alt allele T",coverage:"".concat(Ht,"/spliceai/spliceai_scores.raw.snv.hg38.alt-allele-T.bigWig")}]},{categoryName:"Samples",samples:[]}],selectedSampleNamesByCategoryName:{},sjOptions:{trackHeight:170,showCoverage:!0,showJunctions:!0,hideAnnotated:!1,hideUnannotated:!1,colorBy:"strand",minUniquelyMappedReads:0,minTotalReads:1,maxFractionMultiMappedReads:1,minSplicedAlignmentOverhang:0,thicknessBasedOn:"numUniqueReads",bounceHeightBasedOn:"random",labelUniqueReadCount:!0,labelMultiMappedReadCount:!1,labelTotalReadCount:!1,labelMotif:!1,labelAnnotatedJunction:!1,labelAnnotatedJunctionValue:" [A]"},vcfOptions:{displayMode:"EXPANDED"},bamOptions:{trackHeight:200,showSoftClips:!0,alignmentShading:"strand"},initialSettingsUrl:""};Ft.initialSettings=JSON.parse(JSON.stringify(Ft));var Wt={locus:"locus",selectedSampleNamesByCategoryName:"selectedSamples",sjOptions:"sjOptions",bamOptions:"bamOptions",vcfOptions:"vcfOptions",initialSettingsUrl:"settingsUrl",initialSettingsUrlHasBeenApplied:"settingsUrlApplied"},Xt=["samplesInCategories","leftSideBarLocusList","rightSideBarLocusList"],Kt=function(){var e=Xt.reduce((function(e,t){var n=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(n){return}}(t);return void 0!==n&&(e[t]=n),e}),{}),t=Object.entries(Wt).reduce((function(e,t){var n=Object(j.a)(t,2),a=n[0],r=n[1];return Object(w.a)({},e,Object(_.a)({},r,a))}),{}),n=window.location.hash.replace(/^#/,""),a=n?n.split("&").reduce((function(e,n){var a=n.split("="),r=a[0]in t?t[a[0]]:a[0];if("locus"===r)e=Object(w.a)({},e,Object(_.a)({},r,a[1]));else try{e[r]=zt.a.parse(a[1])}catch(l){console.error("Couldn't parse url hash param",a[0],": ",a[1])}return e}),{}):{};return Object(w.a)({},Ft,{},e,{},a)},Yt=function(e){Xt.forEach((function(t){!function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(a){}}(t,e[t])}));var t=Object.keys(e).filter((function(e){return e in Wt})).reduce((function(t,n){var a="locus"===n?e[n].replace(",",""):zt.a.stringify(e[n]);return[].concat(Object(T.a)(t),["".concat(Wt[n],"=").concat(a)])}),[]).join("&");window.location.hash="#".concat(t)};function Qt(){var e=Object(s.a)(["\n  margin-left: 20px !important;\n  margin-right: 15px !important;\n"]);return Qt=function(){return e},e}function $t(){var e=Object(s.a)(["\n  margin-top: 100px;\n  width: calc(100% - 350px);\n"]);return $t=function(){return e},e}function Zt(){var e=Object(s.a)(["\n  color: #999;\n  width: 100%;\n  text-align: center;\n  \n  .ui.label {\n    color: #444;\n    background-color: #f3f3f3;\n  }\n"]);return Zt=function(){return e},e}var en=i.a.div(Zt()),tn=Object(i.a)(Gt.a)($t()),nn=Object(i.a)(O.a)(Qt()),an=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(g.a)(t).call(this,e))).loadInitialSettingsUrl=function(e){var t,a,r,l,c,o,s,i,u,m,p;return re.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=n.props,a=t.globalState,r=t.updateInitialSettingsUrl,l=t.setInitialSettingsUrlHasBeenApplied,c=t.resetGlobalState,e){d.next=6;break}return c(Object(w.a)({},Ft,{},{user:a.user})),r(""),l(),d.abrupt("return");case 6:if(-1!==e.search(":")&&-1!==e.search("/")){d.next=8;break}throw new Error('Invalid url: "'.concat(e,'"'));case 8:if(o=-1!==e.search(".yaml")||-1!==e.search(".yml"),s=-1!==e.search(".json"),o||s){d.next=12;break}throw new Error('Expected file extensions (".yaml", ".yml", or ".json") not found in the URL');case 12:return d.next=14,re.a.awrap(fetch(e));case 14:if((i=d.sent).ok){d.next=17;break}throw new Error("Couldn't load URL. Error: ".concat(i.statusText.toLowerCase()," (").concat(i.status,")"));case 17:return d.next=19,re.a.awrap(i.text());case 19:if(u=d.sent,!o){d.next=28;break}d.prev=21,m=Z.a.safeLoad(u),d.next=28;break;case 25:throw d.prev=25,d.t0=d.catch(21),new Error("Unable to parse YAML file: ".concat(d.t0));case 28:if(!s){d.next=36;break}d.prev=29,m=JSON.parse(u),d.next=36;break;case 33:throw d.prev=33,d.t1=d.catch(29),new Error("Unable to parse JSON file: ".concat(d.t1));case 36:(p=Object.keys(a).reduce((function(e,t){return t in m?Object(w.a)({},e,Object(_.a)({},t,m[t])):e}),{})).initialSettings=JSON.parse(JSON.stringify(p)),c(Object(w.a)({},a,{},p)),r(e),l();case 41:case"end":return d.stop()}}),null,null,[[21,25],[29,33]])},n.applyInitialSettingsUrl=function(e){return re.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n.setState({requestStatus:qt.IN_PROGRESS}),t.prev=1,t.next=4,re.a.awrap(n.loadInitialSettingsUrl(e));case 4:n.setState({requestStatus:qt.SUCCEEDED,successMessage:e?"Successfully loaded URL and applied settings":"Reset all settings to defaults"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n.setState({requestStatus:qt.ERROR,errorMessage:t.t0.toString()});case 10:return t.next=12,re.a.awrap(Dt()(1e4));case 12:n.state.requestStatus!==qt.IN_PROGRESS&&n.setState({requestStatus:qt.NONE,errorMessage:""});case 13:case"end":return t.stop()}}),null,null,[[1,7]])},n.textInputValue=e.initialSettingsUrl||"",n.state={requestStatus:qt.NONE,successMessage:"",errorMessage:""},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e,t,n;return re.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.props,t=e.initialSettingsUrl,n=e.initialSettingsUrlHasBeenApplied,!t||n){a.next=5;break}return console.log("Loading settings from url",t),a.next=5,re.a.awrap(this.applyInitialSettingsUrl(t));case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.props.initialSettingsUrl;return r.a.createElement(en,{align:"center"},r.a.createElement(tn,{label:"Initial settings:",defaultValue:t,placeholder:"URL of .yaml or .json settings file (eg. http://.../settings.json), or blank to reset all settings to defaults.",onChange:function(t){e.textInputValue=t.target.value}}),r.a.createElement(nn,{content:"Apply",onClick:function(){return e.applyInitialSettingsUrl(e.textInputValue)}}),r.a.createElement(qt,{status:this.state.requestStatus,errorMessage:this.state.errorMessage,successMessage:this.state.successMessage}))}}]),t}(r.a.PureComponent),rn=Object(o.b)((function(e){return{globalState:e,initialSettingsUrl:ve(e),initialSettingsUrlHasBeenApplied:ye(e)}}),(function(e){return{updateInitialSettingsUrl:function(t){e({type:"UPDATE_INITIAL_SETTINGS_URL",newValue:t})},setInitialSettingsUrlHasBeenApplied:function(){e({type:"UPDATE_INITIAL_SETTINGS_URL_HAS_BEEN_APPLIED",newValue:!0})},resetGlobalState:function(t){e({type:"RESET_GLOBAL_STATE",newState:t})}}}))(an);function ln(){var e=Object(s.a)(["\n  padding: 10px 20px;\n"]);return ln=function(){return e},e}var cn=i.a.div(ln()),on=function(){return r.a.createElement(cn,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,{width:2,style:{minWidth:"".concat(210,"px")}},r.a.createElement(ct,null)),r.a.createElement(u.a.Column,{style:{minWidth:"800px",width:"calc(100% - ".concat(420,"px)")}},r.a.createElement(Ct,null),r.a.createElement(Mt,null),r.a.createElement(rn,null)),r.a.createElement(u.a.Column,{width:2,style:{minWidth:"".concat(210,"px")}},r.a.createElement(Et,null)))))},sn=n(66),un=n(280),mn=Object(sn.c)(Object.assign({genome:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},locus:k("UPDATE_LOCUS",""),rightSideBarLocusList:A("RIGHT_SIDE_BAR_LOCUS_LIST"),leftSideBarLocusList:A("LEFT_SIDE_BAR_LOCUS_LIST"),samplesInCategories:function(e,t){return t&&t.categoryName&&t.samples?e.map((function(e){if(e.categoryName!==t.categoryName)return e;var n;switch(t.type){case"SET_SAMPLES":n=Object(T.a)(t.samples);break;case"ADD_SAMPLES":n=[].concat(Object(T.a)(e.samples),Object(T.a)(t.samples));break;default:n=e.samples}return Object(w.a)({},e,{samples:n})})):e||[]},selectedSampleNamesByCategoryName:function(e,t){if(!t||!t.categoryName||!Array.isArray(t.selectedSampleNames))return e||{};var n=e[t.categoryName]||[];switch(t.type){case"SET_SELECTED_SAMPLE_NAMES":case"ADD_SELECTED_SAMPLE_NAMES":case"REMOVE_SELECTED_SAMPLE_NAMES":var a;if("SET_SELECTED_SAMPLE_NAMES"===t.type)a=Object(T.a)(t.selectedSampleNames);else if("ADD_SELECTED_SAMPLE_NAMES"===t.type)a=[].concat(Object(T.a)(n),Object(T.a)(t.selectedSampleNames));else{var r=t.selectedSampleNames;a=n.filter((function(e){return!r.includes(e)}))}return Object(w.a)({},e,Object(_.a)({},t.categoryName,a));default:console.trace("Unknown action type: ".concat(t.type))}return e},sjOptions:x("UPDATE_SJ_OPTIONS"),vcfOptions:x("UPDATE_VCF_OPTIONS"),bamOptions:x("UPDATE_BAM_OPTIONS"),user:x("UPDATE_USER"),initialSettings:k("UPDATE_INITIAL_SETTINGS",{}),initialSettingsUrl:k("UPDATE_INITIAL_SETTINGS_URL",""),initialSettingsUrlHasBeenApplied:k("UPDATE_INITIAL_SETTINGS_URL_HAS_BEEN_APPLIED",!1)},C)),pn=function(e,t){if("RESET_GLOBAL_STATE"===t.type)return console.log("RESET_GLOBAL_STATE to",t.newState),t.newState;var n=mn(e,t);return Yt(n),n},dn=function(){var e=Kt();return console.log("Initializing store to:"),console.log(e),Object(sn.e)(pn,e,Object(sn.d)(Object(sn.a)(un.a)))};var gn=function(){return r.a.createElement(o.a,{store:dn()},r.a.createElement(on,null))};c.a.render(r.a.createElement(gn,null),document.getElementById("root"))}},[[292,1,2]]]);
//# sourceMappingURL=main.e3a017b5.chunk.js.map