(this.webpackJsonprnaseq_viewer_react_app=this.webpackJsonprnaseq_viewer_react_app||[]).push([[0],{188:function(e,t,n){e.exports=n(330)},193:function(e,t,n){},330:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(35),c=n.n(o),l=(n(193),n(32)),i=n(10),u=n(11),s=n(338),p=n(5),d=n(6),m=n(8),f=n(13),h=n(14),E=n(337),g=n(331),v=n(339);function b(){var e=Object(i.a)(["\n  cursor: pointer;\n"]);return b=function(){return e},e}var O=u.a.a(b()),y=function(e){var t=e.locusList,n=e.setLocus;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{key:e},r.a.createElement(O,{onClick:function(){n(e)}},e))})),r.a.createElement(O,{onClick:function(){console.log(t)}},(t||[]).length>0?"Edit Locus List":"Add Locus List To Side Bar"))},j=n(105),w=n(1),S=n.n(w),k=n(2),C=function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.auth2.getAuthInstance();case 2:if((t=e.sent).isSignedIn.get()){e.next=6;break}return e.next=6,t.signIn();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(k.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.auth2.getAuthInstance();case 2:return t=e.sent,n=t.currentUser.get().getBasicProfile(),e.abrupt("return",n.getEmail());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(k.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.auth2.getAuthInstance();case 2:return t=e.sent,n=t.currentUser.get(),t.isSignedIn.get()||n.reloadAuthResponse(),e.abrupt("return",n.getAuthResponse().access_token);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=["GT/AG","CT/AC","GC/AG","CT/GC","AT/AC","GT/AT","non-canonical"],R=function(e){return e.locus},B=function(e){return e.rightSideBarLocusList},P=function(e){return e.leftSideBarLocusList},L=function(e){return e.genome},U=function(e){return e.samplesInfo},_=function(e){return e.selectedSampleNames},N=function(e){return e.sjOptions},M=function(e){return e.vcfOptions},I=function(e){return e.bamOptions},D=function(e){return e.user},V=Object(j.a)(U,_,(function(e,t){return e.map((function(e){return e.samples})).flat().filter((function(e){return t.includes(e.name)}))})),J=Object(j.a)(V,N,M,I,(function(e,t,n,a){var r=[];return e.forEach((function(e,o){var c,l;e.junctions&&t.showJunctions&&(c={type:"junctions",format:"bed",url:e.junctions,indexURL:"".concat(e.junctions,".tbi"),oauthToken:T,order:10*o,name:e.name,height:t.trackHeight,minUniquelyMappedReads:t.minUniquelyMappedReads,minTotalReads:t.minTotalReads,maxFractionMultiMappedReads:t.maxFractionMultiMappedReads,minSplicedAlignmentOverhang:t.minSplicedAlignmentOverhang,thicknessBasedOn:t.thicknessBasedOn,bounceHeightBasedOn:t.bounceHeightBasedOn,colorBy:t.colorBy,colorByNumReadsThreshold:void 0!==t.colorByNumReadsThreshold?t.colorByNumReadsThreshold:5,hideStrand:t.showOnlyPlusStrand?"-":t.showOnlyMinusStrand?"+":void 0,labelUniqueReadCount:t.labelUniqueReadCount,labelMultiMappedReadCount:t.labelMultiMappedReadCount,labelTotalReadCount:t.labelTotalReadCount,labelMotif:t.labelMotif,labelAnnotatedJunction:t.labelAnnotatedJunction&&t.labelAnnotatedJunctionValue,hideAnnotatedJunctions:t.hideAnnotated,hideUnannotatedJunctions:t.hideUnannotated,hideMotifs:x.filter((function(e){return t["hideMotif".concat(e)]}))}),e.coverage&&t.showCoverage&&(l={type:"wig",format:"bigwig",url:e.coverage,oauthToken:T,name:e.name,height:t.trackHeight,order:10*o+1}),l&&c?(console.log("Adding ".concat(e.junctions," & ").concat(e.coverage," track #"),10*o+2),r.push({type:"merged",name:e.name,height:t.trackHeight,tracks:[l,c],order:10*o+2})):c?(console.log("Adding ".concat(e.junctions," track #"),10*o),r.push({type:"merged",name:e.name,height:t.trackHeight,tracks:[c],order:10*o+3})):l&&(console.log("Adding ".concat(e.coverage," track #"),10*o+1),r.push(l)),n.showVcfs&&e.vcf&&(console.log("Adding ".concat(e.vcf," track #"),10*o+4),r.push({type:"variant",format:"vcf",url:e.vcf,indexUrl:"".concat(e.vcf,".tbi"),indexed:!0,name:"".concat(e.name," vcf"),displayMode:n.displayMode,oauthToken:T,order:10*o+4})),a.showBams&&e.bam&&(console.log("Adding ".concat(e.bam," track #"),10*o+5),r.push({type:"alignment",url:e.bam,indexed:!0,name:"".concat(e.name," bam"),height:a.trackHeight,colorBy:a.colorBy,viewAsPairs:a.viewAsPairs,showSoftClips:a.showSoftClips,oauthToken:T,order:10*o+5}))})),r.push({name:"Gencode v32 Genes",format:"refgene",url:"gs://macarthurlab-rnaseq/reference_tracks/gencode_v32_knownGene.sorted.txt.gz",indexUrl:"gs://macarthurlab-rnaseq/reference_tracks/gencode_v32_knownGene.sorted.txt.gz.tbi",indexed:!0,height:350,visibilityWindow:-1,displayMode:"EXPANDED",order:1000001,color:"rgb(76,171,225)",oauthToken:T}),r}));function q(){var e=Object(i.a)(["\n  white-space: nowrap;\n"]);return q=function(){return e},e}function H(){var e=Object(i.a)(["\n  padding-left: 5px;\n  white-space: nowrap;\n"]);return H=function(){return e},e}function G(){var e=Object(i.a)(["\n   color: #E6A01B;\n   border: 3px solid #E6A01B;\n"]);return G=function(){return e},e}function F(){var e=Object(i.a)(["\n   color: #5CB6EA;\n   border: 3px solid #5CB6EA;\n"]);return F=function(){return e},e}function K(){var e=Object(i.a)(["\n   color: #B5D29A;\n   border: 3px solid #B5D29A;\n"]);return K=function(){return e},e}function z(){var e=Object(i.a)(["\n   color: #B0B0EC;\n   border: 3px solid #B0B0EC;\n"]);return z=function(){return e},e}function W(){var e=Object(i.a)(["\n  display: inline-block;\n  width: 6px;\n  border-radius: 1px;\n  height: 10px;\n  cursor: pointer;\n"]);return W=function(){return e},e}function X(){var e=Object(i.a)(["\n  opacity: 0.95;\n"]);return X=function(){return e},e}function Q(){var e=Object(i.a)(["\n  padding-top: 3px;\n"]);return Q=function(){return e},e}function Y(){var e=Object(i.a)(["\n  display: inline-block;\n  margin: 0px 0px 0px 15px;\n  color: #999;\n  white-space: nowrap;\n"]);return Y=function(){return e},e}function Z(){var e=Object(i.a)([" \n  display: inline-block;\n  margin: 12px 0px 0px 0px !important;\n"]);return Z=function(){return e},e}var $=u.a.h3(Z()),ee=u.a.div(Y()),te=u.a.div(Q()),ne=Object(u.a)(E.a)(X()),ae=u.a.div.attrs({name:"stop"})(W()),re=Object(u.a)(ae)(z()),oe=Object(u.a)(ae)(K()),ce=Object(u.a)(ae)(F()),le=Object(u.a)(ae)(G()),ie=u.a.span(H()),ue=u.a.div(q()),se=function(e){var t=e.sample;return r.a.createElement(E.a,{content:r.a.createElement("table",null,r.a.createElement("tbody",null,t.junctions&&r.a.createElement("tr",null,r.a.createElement("td",{style:{paddingRight:"10px"}},r.a.createElement("b",null,"Junctions:")),r.a.createElement("td",null,r.a.createElement(ue,null,t.junctions))),t.coverage&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Coverage:")),r.a.createElement("td",null,r.a.createElement(ue,null,t.coverage))),t.bam&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Bam:")),r.a.createElement("td",null,r.a.createElement(ue,null,t.bam))),t.vcf&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Vcf:")),r.a.createElement("td",null,r.a.createElement(ue,null,t.vcf))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},r.a.createElement("div",{style:{fontSize:"small",color:"grey",marginTop:"10px"}},"(click to copy paths)"))))),position:"right center",trigger:r.a.createElement(ie,{onClick:function(){return navigator.clipboard.writeText("".concat(t.bam+"\n"||!1).concat(t.junctions+"\n"||!1).concat(t.coverage+"\n"||!1).concat(t.vcf+"\n"||!1))}},t.junctions&&r.a.createElement(re,null),t.coverage&&r.a.createElement(oe,null),t.bam&&r.a.createElement(ce,null),t.vcf&&r.a.createElement(le,null)),style:{marginLeft:"2px"}})},pe=function(e){var t=e.category,n=e.selectedSampleNames,a=e.updateSelectedSampleNames;return r.a.createElement("div",null,r.a.createElement($,null,t.name.toUpperCase()),t.samples.length>=10&&r.a.createElement(ee,null,"(N=".concat(t.samples.length,") ")),r.a.createElement("div",null,r.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault();var r=new Set(t.samples.map((function(e){return e.name})));a("SET",n.filter((function(e){return!r.has(e)})))}},"Clear All")))},de=function(e){var t=e.samplesInfo,n=e.selectedSampleNames,a=e.updateSelectedSampleNames;return t.map((function(e){return r.a.createElement("div",{key:e.name},r.a.createElement(pe,{category:e,selectedSampleNames:n,updateSelectedSampleNames:a}),e.samples.map((function(e){return r.a.createElement(me,{key:e.name,sample:e,selectedSampleNames:n,updateSelectedSampleNames:a})})))}))},me=function(e){var t=e.sample,n=e.selectedSampleNames,a=e.updateSelectedSampleNames;return r.a.createElement(ue,null,r.a.createElement(g.a,{label:t.name,checked:n.includes(t.name),"data-sample":t.name,onChange:function(e,t){return a(t.checked?"ADD":"REMOVE",[t["data-sample"]])}}),r.a.createElement(fe,{sample:t}),r.a.createElement(se,{sample:t}))},fe=function(e){var t=e.sample;return t.description?r.a.createElement(ne,{inverted:!0,content:t.description,position:"right center",trigger:r.a.createElement(v.a,{style:{marginLeft:"10px"},name:"question circle outline"})}):null},he=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(y,{locusList:this.props.locusList,setLocusList:this.props.setLocusList}),r.a.createElement($,null,"TRACK TYPES TO SHOW PER SAMPLE"),r.a.createElement(te,null,r.a.createElement(g.a,{label:"RNA splice-junctions",defaultChecked:this.props.sjOptions.showJunctions,onChange:function(t,n){return e.props.updateSjOptions({showJunctions:n.checked})}}),r.a.createElement(ie,null,r.a.createElement(E.a,{content:"This color stripe marks samples that have splice junction data. Select this checkbox to show a splice junction track for each sample selected below.",position:"right center",trigger:r.a.createElement(re,null)}))),r.a.createElement(te,null,r.a.createElement(g.a,{label:"RNA coverage",defaultChecked:this.props.sjOptions.showCoverage,onChange:function(t,n){return e.props.updateSjOptions({showCoverage:n.checked})}}),r.a.createElement(ie,null,r.a.createElement(E.a,{content:"This color stripe marks samples that have coverage data. Select this checkbox to show a coverage track for each sample selected below.",position:"right center",trigger:r.a.createElement(oe,null)}))),r.a.createElement(te,null,r.a.createElement(g.a,{label:"BAM track",defaultChecked:this.props.bamOptions.showBams,onChange:function(t,n){return e.props.updateBamOptions({showBams:n.checked})}}),r.a.createElement(ie,null,r.a.createElement(E.a,{content:"This color stripe marks samples that have alignment data. Select this checkbox to show a bam track for each sample selected below.",position:"right center",trigger:r.a.createElement(ce,null)}))),r.a.createElement(te,null,r.a.createElement(g.a,{label:"VCF track",defaultChecked:this.props.vcfOptions.showVcfs,onChange:function(t,n){return e.props.updateVcfOptions({showVcfs:n.checked})}}),r.a.createElement(ie,null,r.a.createElement(E.a,{content:"This color stripe marks samples that have splice junction data. Select this checkbox to show a vcf track for each sample selected below.",position:"right center",trigger:r.a.createElement(le,null)}))),r.a.createElement(de,{samplesInfo:this.props.samplesInfo,selectedSampleNames:this.props.selectedSampleNames,updateSelectedSampleNames:this.props.updateSelectedSampleNames}))}}]),t}(r.a.Component),Ee=Object(l.b)((function(e){return{locusList:P(e),selectedSampleNames:_(e),samplesInfo:U(e),sjOptions:N(e),vcfOptions:M(e),bamOptions:I(e)}}),(function(e){return{setLocus:function(t){e({type:"UPDATE_LOCUS",newValue:t})},setLocusList:function(t){e({type:"SET_LEFT_SIDE_BAR_LOCUS_LIST",values:t})},updateSelectedSampleNames:function(t,n){e({type:"".concat(t,"_SELECTED_SAMPLE_NAMES"),values:n})},updateSjOptions:function(t){e({type:"UPDATE_SJ_OPTIONS",updates:t})},updateVcfOptions:function(t){e({type:"UPDATE_VCF_OPTIONS",updates:t})},updateBamOptions:function(t){e({type:"UPDATE_BAM_OPTIONS",updates:t})}}}))(he),ge=n(28),ve=n(336);function be(){var e=Object(i.a)(["\n  label {\n    margin-left: 10px;\n    margin-bottom: 10px;\n    padding-left: 1.4em !important;\n  }\n"]);return be=function(){return e},e}function Oe(){var e=Object(i.a)(["\n  margin-top: 5px !important;\n"]);return Oe=function(){return e},e}function ye(){var e=Object(i.a)(["\n  opacity: 0.95;\n"]);return ye=function(){return e},e}function je(){var e=Object(i.a)(["\n  display: inline;\n  width: 50px;\n  margin-left: 5px;\n  padding-left: 5px;\n"]);return je=function(){return e},e}function we(){var e=Object(i.a)(["\n  padding-top:3px;\n"]);return we=function(){return e},e}function Se(){var e=Object(i.a)([" \n  display: inline-block;\n  margin: 12px 0px 0px 0px !important;\n"]);return Se=function(){return e},e}var ke=u.a.h3(Se()),Ce=u.a.div(we()),Ae=u.a.input(je()),Te=Object(u.a)(E.a)(ye()),xe=Object(u.a)(v.a)(Oe()),Re=Object(u.a)(ve.a)(be()),Be=function(e){var t=e.sjOptions,n=e.handleTextInput;return"strand"===t.colorBy?r.a.createElement("div",null,r.a.createElement(xe,{name:"stop",style:{color:"#b0b0ec"}})," plus",r.a.createElement(xe,{name:"stop",style:{color:"#ecb0b0",marginLeft:"10px"}})," minus"):"motif"===t.colorBy?r.a.createElement("div",null,r.a.createElement(xe,{name:"stop",style:{color:"rgb(27,158,119)"}})," GT/AG ",r.a.createElement("br",null),r.a.createElement(xe,{name:"stop",style:{color:"rgb(217,95,2)"}})," CT/AC ",r.a.createElement("br",null),r.a.createElement(xe,{name:"stop",style:{color:"rgb(117,112,179)"}})," GC/AG ",r.a.createElement("br",null),r.a.createElement(xe,{name:"stop",style:{color:"rgb(231,41,138)"}})," CT/GC ",r.a.createElement("br",null),r.a.createElement(xe,{name:"stop",style:{color:"rgb(102,166,30)"}})," AT/AC ",r.a.createElement("br",null),r.a.createElement(xe,{name:"stop",style:{color:"rgb(230,171,2)"}})," GT/AT ",r.a.createElement("br",null),r.a.createElement(xe,{name:"stop",style:{color:"rgb(166,118,29)"}})," non-canonical ",r.a.createElement("br",null)):"numUniqueReads"===t.colorBy||"numReads"===t.colorBy?r.a.createElement("div",null,"# reads",r.a.createElement(xe,{name:"stop",style:{color:"#AAAAAA",marginLeft:"10px"}}),"\xa0\u2264 \xa0",r.a.createElement(Ae,{type:"text",defaultValue:void 0!==t.colorByNumReadsThreshold?t.colorByNumReadsThreshold:5,onKeyUp:function(e){return n(e,"colorByNumReadsThreshold")},style:{width:"35px"}}),"\xa0 < \xa0",r.a.createElement(xe,{name:"stop",style:{color:"blue"}})):"isAnnotatedJunction"===t.colorBy?r.a.createElement("div",null,r.a.createElement(xe,{name:"stop",style:{color:"#b0b0ec"}})," known junction ",r.a.createElement("br",null),r.a.createElement(xe,{name:"stop",style:{color:"orange"}})," novel junction"):r.a.createElement("div",null)},Pe=function(e){var t=e.sjOptions,n=e.updateSjOptions,a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;13===e.keyCode&&n(Object(ge.a)({},t,a||e.target.value))};return r.a.createElement("div",null,r.a.createElement(ke,null,"JUNCTION TRACK ",r.a.createElement("br",null),"OPTIONS"),r.a.createElement("br",null),r.a.createElement(Ce,null,"Track height: ",r.a.createElement(Ae,{type:"text",defaultValue:t.trackHeight,onKeyUp:function(e){return a(e,"trackHeight",parseInt(e.target.value))}})," px"),r.a.createElement(Ce,null,"Color by:"),r.a.createElement(Ce,null,r.a.createElement("select",{defaultValue:t.colorBy,onChange:function(e){return n({colorBy:e.target.value})}},r.a.createElement("option",{value:"strand"},"strand"),r.a.createElement("option",{value:"motif"},"donor/acceptor motif"),r.a.createElement("option",{value:"numUniqueReads"},"# uniquely-mapped reads"),r.a.createElement("option",{value:"numReads"},"# total reads"),r.a.createElement("option",{value:"isAnnotatedJunction"},"is known junction")),r.a.createElement(Be,{sjOptions:t,handleTextInput:a})),r.a.createElement(Ce,null,"Junction thickness:"),r.a.createElement(Ce,null,r.a.createElement("select",{defaultValue:t.thicknessBasedOn,onChange:function(e){return n({thicknessBasedOn:e.target.value})}},r.a.createElement("option",{value:"numUniqueReads"},"# uniquely-mapped reads"),r.a.createElement("option",{value:"numReads"},"# total reads"),r.a.createElement("option",{value:"isAnnotatedJunction"},"is known junction"))),r.a.createElement(Ce,null,"Junction bounce height:"),r.a.createElement(Ce,null,r.a.createElement("select",{defaultValue:t.bounceHeightBasedOn,onChange:function(e){return n({bounceHeightBasedOn:e.target.value})}},r.a.createElement("option",{value:"random"},"random"),r.a.createElement("option",{value:"distance"},"distance"),r.a.createElement("option",{value:"thickness"},"thickness"))),r.a.createElement(Ce,null,"Junction label:"),r.a.createElement(Ce,null,r.a.createElement(g.a,{label:"# uniquely-mapped",defaultChecked:t.labelUniqueReadCount,onChange:function(e,t){return n({labelUniqueReadCount:t.checked})}})),r.a.createElement(Ce,null,r.a.createElement(g.a,{label:"# multi-mapped",defaultChecked:t.labelMultiMappedReadCount,onChange:function(e,t){return n({labelMultiMappedReadCount:t.checked})}})),r.a.createElement(Ce,null,r.a.createElement(g.a,{label:"# total reads",defaultChecked:t.labelTotalReadCount,onChange:function(e,t){return n({labelTotalReadCount:t.checked})}})),r.a.createElement(Ce,null,r.a.createElement(g.a,{label:"donor/acceptor motif",defaultChecked:t.labelMotif,onChange:function(e,t){return n({labelMotif:t.checked})}})),r.a.createElement(Ce,null,r.a.createElement(g.a,{label:"known junction:",defaultChecked:t.labelAnnotatedJunction,onChange:function(e,t){return n({labelAnnotatedJunction:t.checked})}}),r.a.createElement(Ae,{type:"text",defaultValue:t.labelAnnotatedJunctionValue,onKeyUp:function(e){return a(e,"labelAnnotatedJunctionValue")},style:{width:"35px"}})),r.a.createElement(ke,null,"JUNCTION TRACK FILTERS"),r.a.createElement("br",null),r.a.createElement(Ce,null,"Show Strands:",r.a.createElement(Re,{label:"both",name:"strandButton",checked:!t.showOnlyPlusStrand&&!t.showOnlyMinusStrand,onChange:function(e,t){return t.checked&&n({showOnlyPlusStrand:!1,showOnlyMinusStrand:!1})}}),r.a.createElement(Re,{label:"plus",name:"strandButton",checked:t.showOnlyPlusStrand,onChange:function(e,t){return t.checked&&n({showOnlyPlusStrand:!0,showOnlyMinusStrand:!1})}}),r.a.createElement(Re,{label:"minus",name:"strandButton",checked:t.showOnlyMinusStrand,onChange:function(e,t){return t.checked&&n({showOnlyPlusStrand:!1,showOnlyMinusStrand:!0})}})),r.a.createElement(Ce,null,r.a.createElement(g.a,{label:"Show novel junctions",defaultChecked:!t.hideUnannotated,onChange:function(e,t){return n({hideUnannotated:!t.checked})}})),r.a.createElement(Ce,null,r.a.createElement(g.a,{label:"Show known junctions",defaultChecked:!t.hideAnnotated,onChange:function(e,t){return n({hideAnnotated:!t.checked})}})),r.a.createElement(Ce,null,r.a.createElement(g.a,{label:"Show novel junctions",defaultChecked:!t.hideUnannotated,onChange:function(e,t){return n({hideUnannotated:!t.checked})}})),r.a.createElement("div",null,r.a.createElement(Ce,null,"Uniquely-mapped reads:"),"at least ",r.a.createElement(Ae,{type:"text",defaultValue:t.minUniquelyMappedReads,onKeyUp:function(e){return a(e,"minUniquelyMappedReads",parseInt(e.target.value))}})),r.a.createElement("div",null,r.a.createElement(Ce,null,"Total reads:"),"at least ",r.a.createElement(Ae,{type:"text",defaultValue:t.minTotalReads,onKeyUp:function(e){return a(e,"minTotalReads",parseInt(e.target.value))}})),r.a.createElement("div",null,r.a.createElement(Ce,null,"Fraction multi-mapped:",r.a.createElement(Te,{inverted:!0,content:"Allows filtering of junctions where most reads that span the junction are multi-mapped reads. For example, setting this to 0.79 will hide junctions where 8 out of 10 (or more) reads that span the junction are not uniquely mapped reads.",position:"left center",on:"click",trigger:r.a.createElement(v.a,{style:{marginLeft:"8px"},name:"question circle outline"})})),"at most ",r.a.createElement(Ae,{type:"text",defaultValue:t.maxFractionMultiMappedReads,onKeyUp:function(e){return a(e,"maxFractionMultiMappedReads",parseInt(e.target.value))}})),r.a.createElement("div",null,r.a.createElement(Ce,null,"Splice overhang base-pairs:"),"at least ",r.a.createElement(Ae,{type:"text",defaultValue:t.minSplicedAlignmentOverhang,onKeyUp:function(e){return a(e,"minSplicedAlignmentOverhang",parseInt(e.target.value))}})),r.a.createElement("div",null,r.a.createElement(Ce,null,"Donor/Acceptor Motifs:"),x.map((function(e){return r.a.createElement(Ce,{key:e},r.a.createElement(g.a,{label:"Show ".concat(e),defaultChecked:!t["hideMotif".concat(e)],onChange:function(t,a){return n(Object(ge.a)({},"hideMotif".concat(e),!a.checked))}}))}))))},Le=function(e){var t=e.bamOptions,n=e.updateBamOptions;return r.a.createElement("div",null,r.a.createElement(ke,null,"BAM TRACK ",r.a.createElement("br",null),"OPTIONS"),r.a.createElement("br",null),r.a.createElement(Ce,null,"Track height: ",r.a.createElement(Ae,{type:"text",defaultValue:t.trackHeight,onKeyUp:function(e){return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;13===e.keyCode&&n(Object(ge.a)({},t,a||e.target.value))}(e,"trackHeight",parseInt(e.target.value))}})," px"),r.a.createElement(Ce,null,r.a.createElement(g.a,{label:"View as pairs",defaultChecked:t.viewAsPairs,onChange:function(e,t){return n({viewAsPairs:t.checked})}})),r.a.createElement(Ce,null,r.a.createElement(g.a,{label:"Show soft-clips",defaultChecked:t.showSoftClips,onChange:function(e,t){return n({showSoftClips:t.checked})}})),r.a.createElement(Ce,null,"Color by:"),r.a.createElement(Ce,null,r.a.createElement("select",{defaultValue:t.colorBy,onChange:function(e){return n({colorBy:e.target.value})}},r.a.createElement("option",{value:"strand"},"Strand"),r.a.createElement("option",{value:"firstOfPairStrand"},"First-of-pair strand"),r.a.createElement("option",{value:"pairOrientation"},"Pair orientation"),r.a.createElement("option",{value:"fragmentLength"},"Insert size (TLEN)"),r.a.createElement("option",{value:"none"},"None"))))},Ue=function(e){var t=e.vcfOptions,n=e.updateVcfOptions;return r.a.createElement("div",null,r.a.createElement(ke,null,"VCF TRACK ",r.a.createElement("br",null),"OPTIONS"),r.a.createElement("br",null),r.a.createElement(Ce,null,"Display mode: \xa0 ",r.a.createElement("select",{defaultValue:t.displayMode,onChange:function(e){return n({displayMode:e.target.value})}},r.a.createElement("option",{value:"COLLAPSED"},"Collapse"),r.a.createElement("option",{value:"SQUISHED"},"Squish"),r.a.createElement("option",{value:"EXPANDED"},"Expand"))))},_e=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y,{locusList:this.props.locusList,setLocusList:this.props.setLocusList}),this.props.bamOptions.showBams&&r.a.createElement(Le,{bamOptions:this.props.bamOptions,updateBamOptions:this.props.updateBamOptions}),this.props.vcfOptions.showVcfs&&r.a.createElement(Ue,{vcfOptions:this.props.vcfOptions,updateVcfOptions:this.props.updateVcfOptions}),(this.props.sjOptions.showCoverage||this.props.sjOptions.showJunctions)&&r.a.createElement(Pe,{sjOptions:this.props.sjOptions,updateSjOptions:this.props.updateSjOptions}))}}]),t}(r.a.Component),Ne=Object(l.b)((function(e){return{locusList:B(e),sjOptions:N(e),vcfOptions:M(e),bamOptions:I(e),selectedSampleNames:_(e),samplesInfo:U(e)}}),(function(e){return{setLocus:function(t){e({type:"UPDATE_LOCUS",newValue:t})},setLocusList:function(t){e({type:"SET_RIGHT_SIDE_BAR_LOCUS_LIST",values:t})},updateSjOptions:function(t){e({type:"UPDATE_SJ_OPTIONS",updates:t})},updateBamOptions:function(t){e({type:"UPDATE_BAM_OPTIONS",updates:t})},updateVcfOptions:function(t){e({type:"UPDATE_VCF_OPTIONS",updates:t})}}}))(_e),Me=n(176);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Object(ge.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(){var e=Object(i.a)([""]);return Ve=function(){return e},e}var Je={showIdeogram:!0,showNavigation:!0,showRuler:!0,showCenterGuide:!0,showCursorTrackingGuide:!0,showCommandBar:!0},qe=u.a.div(Ve()),He=function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){t.apply(void 0,r),n=null}),e)}},Ge=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(f.a)(t).call(this,e))).setContainerElement=function(e){n.container=e},n.render=function(){return r.a.createElement(qe,null,r.a.createElement("div",{ref:n.setContainerElement}))},n.shouldComponentUpdate=function(e){if(!n.container)return!1;e.locus!==n.props.locus&&n.browser.search(e.locus);var t=e.tracks.reduce((function(e,t){return De(Object(ge.a)({},t.name,t),e)}),{});console.log("IGV.nextProps:",e);var a=!0,r=!1,o=void 0;try{for(var c,l=n.props.tracks[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var i=c.value,u=t[i.name];if(u)(e.sjOptions!==n.props.sjOptions&&["merged","wig","junctions"].includes(i.type)||e.vcfOptions!==n.props.vcfOptions&&"variant"===i.type||e.bamOptions!==n.props.bamOptions&&"alignment"===i.type)&&(n.ignoreNextTrackRemovedEvent=!0,n.browser.removeTrackByName(i.name),n.browser.loadTrack(u)),delete t[i.name];else try{n.ignoreNextTrackRemovedEvent=!0,n.browser.removeTrackByName(i.name)}catch(m){console.warn("Unable to remove track",i.name,m)}}}catch(f){r=!0,o=f}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}for(var s=0,p=Object.values(t);s<p.length;s++){var d=p[s];try{n.browser.loadTrack(d)}catch(m){console.warn("Unable to add track",d.name,m)}}return!1},n.container=null,n.browser=null,n.ignoreNextTrackRemovedEvent=!1,n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(S.a.mark((function e(){var t,n,a=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.container){e.next=2;break}return e.abrupt("return");case 2:return t=De({},Je,{locus:this.props.locus,genome:this.props.genome,tracks:this.props.tracks}),e.next=5,new Promise((function(e){gapi.load("client:auth2",(function(){gapi.client.load("storage","v1",(function(){gapi.client.init({clientId:"61200892608-qphtf65o323setqdcfj4hnf601mmetvs.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/devstorage.read_only",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/storage/v1/rest"]}),e()}))}))}));case 5:return e.next=7,C();case 7:return e.next=9,A();case 9:n=e.sent,this.props.userChangedHandler(n),Me.a.createBrowser(this.container,t).then((function(e){a.browser=e,a.props.locusChangedHandler&&a.browser.on("locuschange",He(300,a.props.locusChangedHandler)),a.props.trackRemovedHandler&&a.browser.on("trackremoved",(function(e){a.ignoreNextTrackRemovedEvent||a.props.trackRemovedHandler(e),a.ignoreNextTrackRemovedEvent=!1}))}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(r.a.Component),Fe=Object(l.b)((function(e){return{genome:L(e),locus:R(e),tracks:J(e),sjOptions:N(e),vcfOptions:M(e),bamOptions:I(e)}}),(function(e){return{locusChangedHandler:function(t){var n=t.label.replace(/,/g,"");e({type:"UPDATE_LOCUS",newValue:n})},userChangedHandler:function(t){e({type:"UPDATE_USER",updates:{googleUserEmail:t}})},trackRemovedHandler:function(t){e({type:"REMOVE_SELECTED_SAMPLE_NAMES",values:[t.name]})}}}))(Ge);function Ke(){var e=Object(i.a)(["\n  text-align: right;\n  margin: 70px 70px 0px 0px;\n  color: #999;\n"]);return Ke=function(){return e},e}var ze=u.a.div(Ke()),We=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.props.user.googleUserEmail?r.a.createElement(ze,null,"Signed in to Google Buckets as ",r.a.createElement("b",null,this.props.user.googleUserEmail)):r.a.createElement(ze,null)}}]),t}(r.a.Component),Xe=Object(l.b)((function(e){return{user:D(e)}}))(We);function Qe(){var e=Object(i.a)(["\n  padding: 10px 20px;\n"]);return Qe=function(){return e},e}var Ye=u.a.div(Qe()),Ze=function(){return r.a.createElement(Ye,null,r.a.createElement(s.a,null,r.a.createElement(s.a.Row,null,r.a.createElement(s.a.Column,{width:2,style:{minWidth:"".concat(210,"px")}},r.a.createElement(Ee,null)),r.a.createElement(s.a.Column,{style:{minWidth:"800px",width:"calc(100% - ".concat(420,"px)")}},r.a.createElement(Fe,null),r.a.createElement(Xe,null)),r.a.createElement(s.a.Column,{width:2,style:{minWidth:"".concat(210,"px")}},r.a.createElement(Ne,null)))))},$e=n(42),et=(n(18),n(22));function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){Object(ge.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;if(!r)return a;switch(r.type){case e:if(void 0===r.updates)return console.error("Invalid ".concat(e," action: action.updates is undefined: "),r),a;var o=nt({},a,{},r.updates);return n&&console.log("singleObjectReducer: applying action: ",r,"State changing from ",a," to ",o),o;default:return a}};return a},ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;if(!r)return a;switch(r.type){case"SET_".concat(e):case"ADD_".concat(e):case"REMOVE_".concat(e):if(!Array.isArray(r.values))return console.error("Invalid ".concat(r.type," action: action.values is undefined or not an array: "),r),a;var o;if(r.type==="SET_".concat(e))o=Object(et.a)(r.values);else if(r.type==="ADD_".concat(e))o=[].concat(Object(et.a)(a),Object(et.a)(r.values));else{var c=r.values;o=a.filter((function(e){return!c.includes(e)}))}return n&&console.log("createArrayReducer: applying action: ",r,"State changing from ",a," to ",o),o;default:return a}};return a},ct=Object($e.c)(Object.assign({genome:at,locus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;if(!r)return a;switch(r.type){case e:return void 0===r.newValue?(console.error("Invalid ".concat(e," action: action.newValue is undefined: "),r),a):(n&&console.log("singleValueReducer: applying action: ",r,"State changing from ",a," to ",r.newValue),r.newValue);default:return a}};return a}("UPDATE_LOCUS",""),rightSideBarLocusList:ot("RIGHT_SIDE_BAR_LOCUS_LIST"),leftSideBarLocusList:ot("LEFT_SIDE_BAR_LOCUS_LIST"),samplesInfo:at,selectedSampleNames:ot("SELECTED_SAMPLE_NAMES"),sjOptions:rt("UPDATE_SJ_OPTIONS"),vcfOptions:rt("UPDATE_VCF_OPTIONS"),bamOptions:rt("UPDATE_BAM_OPTIONS"),user:rt("UPDATE_USER")})),lt=n(178),it=n(110),ut=n.n(it),st=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(n){return}};function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){Object(ge.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mt=dt({genome:"hg38",locus:"chr15:92,835,700-93,031,800",sjOptions:{trackHeight:170,showCoverage:!0,showJunctions:!0,hideAnnotated:!1,hideUnannotated:!1,colorBy:"strand",minUniquelyMappedReads:1,minTotalReads:1,maxFractionMultiMappedReads:1,minSplicedAlignmentOverhang:0,thicknessBasedOn:"numUniqueReads",bounceHeightBasedOn:"random",labelUniqueReadCount:!0,labelMultiMappedReadCount:!0,labelTotalReadCount:!1,labelMotif:!0,labelAnnotatedJunction:!1,labelAnnotatedJunctionValue:" [A]"},vcfOptions:{displayMode:"EXPANDED"},bamOptions:{trackHeight:200,showSoftClips:!0,colorBy:"strand"},samplesInfo:[]},window.IGV_SETTINGS||{}),ft=["locus","selectedSampleNames","sjOptions","vcfOptions","bamOptions"],ht=["leftSideBarLocusList","rightSideBarLocusList"],Et=Object($e.d)(Object($e.a)(lt.a,(function(e){return function(t){return function(n){var a=t(n),r=e.getState();ht.forEach((function(e){!function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(a){}}(e,r[e])}));var o=Object.keys(r).filter((function(e){return ft.includes(e)})).reduce((function(e,t){return dt({},e,Object(ge.a)({},t,r[t]))}),{});return window.location.hash="#".concat(ut.a.stringify(o)),a}}}))),gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt;return ht.forEach((function(e){var n=st(e);void 0!==n&&(t[e]=n)})),t=dt({},t,{},ut.a.parse(window.location.hash.replace(/^#/,""))),console.log("Initializing store to:",t),Object($e.e)(e,t,Et)};var vt=function(){return r.a.createElement(l.a,{store:gt(ct)},r.a.createElement(Ze,null))};c.a.render(r.a.createElement(vt,null),document.getElementById("root"))}},[[188,1,2]]]);
//# sourceMappingURL=main.7fd493c1.chunk.js.map